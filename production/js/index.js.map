{"version":3,"sources":["node_modules/browser-pack/_prelude.js","development/js/index.js","development/js/modules/chatting.js","development/js/modules/drinks.js","development/js/modules/groceries.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import * as message from './modules/chatting'\nimport * as grocery from './modules/groceries'\nimport * as drinks from './modules/drinks'\n\nconst socket = io()\n\nconst\n    chatForm = document.querySelector('[send-message]'),\n    chatName = chatForm.querySelector('input[type=\"text\"]:first-of-type'),\n    chatString = chatForm.querySelector('div input[type=\"text\"]'),\n    chatSubmit = chatForm.querySelector('div input[type=\"submit\"]')\n\n// Chatting\nchatSubmit.addEventListener('click', (event) => {\n    event.preventDefault()\n\n    socket.emit('chat', {\n        name: chatName.value,\n        message: chatString.value\n    })\n\n    chatString.value = ''\n})\n\ndrinks.drinks()\n\n// Basic chatting\nsocket.on('chat', (data) => {\n    message.chat(data)\n})\n\nsocket.on('addGrocery', (data) => {\n    grocery.add(data)\n})\n\nsocket.on('pickDrink', (data) => {\n    data.ingredients.forEach(ingredient => {\n        grocery.add(ingredient)\n    })\n\n    message.server(`All the ingredients of: ${data.name} were added to the grocerylist`)\n})\n\n// Joining the chat\nsocket.on('join', (data) => {\n    message.server(data.message)\n})\n\n// Joining the chat\nsocket.on('loadGroceries', (data) => {\n    grocery.getAll(data)\n})\n\n// Leaving the chat\nsocket.on('leave', (data) => {\n    message.server(data.message)\n})","const chatContainer = document.querySelector('[chat]')\n\nexport function chat(user) {\n    const messageElement = document.createElement('div')\n    messageElement.textContent = `${user.name}: ${user.message}`\n    messageElement.className = 'user'\n\n    addMessage(messageElement)\n}\n\nexport function server(data) {\n    console.log(data)\n    const messageElement = document.createElement('div')\n    messageElement.textContent = data\n    messageElement.className = 'server'\n\n    addMessage(messageElement)\n}\n\nfunction addMessage(messageElement) {\n    chatContainer.append(messageElement)\n    scrollToBottom()\n}\n\nfunction scrollToBottom() {\n    chatContainer.scrollTop = chatContainer.scrollHeight - chatContainer.clientHeight\n}","const socket = io()\n\nexport function drinks() {\n    const drinksContainer = document.querySelector('[drinks]')\n    const drinks = [...drinksContainer.children]\n\n    drinks.forEach(drink => {\n        drink.addEventListener('click', () => {\n            const data = { id: drink.id, drink: drink.querySelector('p').textContent }\n            socket.emit('pickDrink', { data })\n        })\n    })\n}","// Todo: Wanneer een boodschap meer dan 1x voorkomt een counter toevoegen\n// Todo: Wanneer een boodschap meer dan 1x voorkomt een - toevoegen om te minderen in hoeveelheid\n\nconst grocerylist = document.querySelector('[grocery-container] ul')\n\nexport function add(data) {\n    grocerylist.append(groceryElement(data))\n}\n\nfunction groceryElement(data) {\n    const grocery = document.createElement('li')\n    const removeButton = document.createElement('span')\n\n    grocery.textContent = data\n    removeButton.textContent = 'X'\n\n    grocery.append(removeButton)\n    removeButton.addEventListener('click', (event) => remove(event.target))\n\n    return grocery\n}\n\nexport function getAll(data) {\n    const grocies = data.groceries\n\n    grocies.forEach(grocery => {\n        add(grocery)\n    })\n}\n\nfunction remove(element) {\n    const grocery = element.parentElement\n    grocery.remove()\n}\n\n// Remove all groceries\ndocument.querySelector('[grocery-container] button').addEventListener('click', () => {\n    const groceries = [...grocerylist.children]\n    groceries.forEach(grocery => {\n        grocery.remove()\n    })\n})"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkZXZlbG9wbWVudC9qcy9pbmRleC5qcyIsImRldmVsb3BtZW50L2pzL21vZHVsZXMvY2hhdHRpbmcuanMiLCJkZXZlbG9wbWVudC9qcy9tb2R1bGVzL2RyaW5rcy5qcyIsImRldmVsb3BtZW50L2pzL21vZHVsZXMvZ3JvY2VyaWVzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7OztBQ0FBOztBQUNBOztBQUNBOzs7Ozs7QUFFQSxJQUFNLE1BQU0sR0FBRyxFQUFFLEVBQWpCO0FBRUEsSUFDSSxRQUFRLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsZ0JBQXZCLENBRGY7QUFBQSxJQUVJLFFBQVEsR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixrQ0FBdkIsQ0FGZjtBQUFBLElBR0ksVUFBVSxHQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLHdCQUF2QixDQUhqQjtBQUFBLElBSUksVUFBVSxHQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLDBCQUF2QixDQUpqQixDLENBTUE7O0FBQ0EsVUFBVSxDQUFDLGdCQUFYLENBQTRCLE9BQTVCLEVBQXFDLFVBQUMsS0FBRCxFQUFXO0FBQzVDLEVBQUEsS0FBSyxDQUFDLGNBQU47QUFFQSxFQUFBLE1BQU0sQ0FBQyxJQUFQLENBQVksTUFBWixFQUFvQjtBQUNoQixJQUFBLElBQUksRUFBRSxRQUFRLENBQUMsS0FEQztBQUVoQixJQUFBLE9BQU8sRUFBRSxVQUFVLENBQUM7QUFGSixHQUFwQjtBQUtBLEVBQUEsVUFBVSxDQUFDLEtBQVgsR0FBbUIsRUFBbkI7QUFDSCxDQVREO0FBV0EsTUFBTSxDQUFDLE1BQVAsRyxDQUVBOztBQUNBLE1BQU0sQ0FBQyxFQUFQLENBQVUsTUFBVixFQUFrQixVQUFDLElBQUQsRUFBVTtBQUN4QixFQUFBLE9BQU8sQ0FBQyxJQUFSLENBQWEsSUFBYjtBQUNILENBRkQ7QUFJQSxNQUFNLENBQUMsRUFBUCxD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LE9BQXRFLEVBQStFLFlBQU07QUFDakYsTUFBTSxTQUFTLHNCQUFPLFdBQVcsQ0FBQyxRQUFuQixDQUFmOztBQUNBLEVBQUEsU0FBUyxDQUFDLE9BQVYsQ0FBa0IsVUFBQSxPQUFPLEVBQUk7QUFDekIsSUFBQSxPQUFPLENBQUMsTUFBUjtBQUNILEdBRkQ7QUFHSCxDQUxEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiaW1wb3J0ICogYXMgbWVzc2FnZSBmcm9tICcuL21vZHVsZXMvY2hhdHRpbmcnXG5pbXBvcnQgKiBhcyBncm9jZXJ5IGZyb20gJy4vbW9kdWxlcy9ncm9jZXJpZXMnXG5pbXBvcnQgKiBhcyBkcmlua3MgZnJvbSAnLi9tb2R1bGVzL2RyaW5rcydcblxuY29uc3Qgc29ja2V0ID0gaW8oKVxuXG5jb25zdFxuICAgIGNoYXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW3NlbmQtbWVzc2FnZV0nKSxcbiAgICBjaGF0TmFtZSA9IGNoYXRGb3JtLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdOmZpcnN0LW9mLXR5cGUnKSxcbiAgICBjaGF0U3RyaW5nID0gY2hhdEZvcm0ucXVlcnlTZWxlY3RvcignZGl2IGlucHV0W3R5cGU9XCJ0ZXh0XCJdJyksXG4gICAgY2hhdFN1Ym1pdCA9IGNoYXRGb3JtLnF1ZXJ5U2VsZWN0b3IoJ2RpdiBpbnB1dFt0eXBlPVwic3VibWl0XCJdJylcblxuLy8gQ2hhdHRpbmdcbmNoYXRTdWJtaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBzb2NrZXQuZW1pdCgnY2hhdCcsIHtcbiAgICAgICAgbmFtZTogY2hhdE5hbWUudmFsdWUsXG4gICAgICAgIG1lc3NhZ2U6IGNoYXRTdHJpbmcudmFsdWVcbiAgICB9KVxuXG4gICAgY2hhdFN0cmluZy52YWx1ZSA9ICcnXG59KVxuXG5kcmlua3MuZHJpbmtzKClcblxuLy8gQmFzaWMgY2hhdHRpbmdcbnNvY2tldC5vbignY2hhdCcsIChkYXRhKSA9PiB7XG4gICAgbWVzc2FnZS5jaGF0KGRhdGEpXG59KVxuXG5zb2NrZXQub24oJ2FkZEdyb2NlcnknLCAoZGF0YSkgPT4ge1xuICAgIGdyb2NlcnkuYWRkKGRhdGEpXG59KVxuXG5zb2NrZXQub24oJ3BpY2tEcmluaycsIChkYXRhKSA9PiB7XG4gICAgZGF0YS5pbmdyZWRpZW50cy5mb3JFYWNoKGluZ3JlZGllbnQgPT4ge1xuICAgICAgICBncm9jZXJ5LmFkZChpbmdyZWRpZW50KVxuICAgIH0pXG5cbiAgICBtZXNzYWdlLnNlcnZlcihgQWxsIHRoZSBpbmdyZWRpZW50cyBvZjogJHtkYXRhLm5hbWV9IHdlcmUgYWRkZWQgdG8gdGhlIGdyb2NlcnlsaXN0YClcbn0pXG5cbi8vIEpvaW5pbmcgdGhlIGNoYXRcbnNvY2tldC5vbignam9pbicsIChkYXRhKSA9PiB7XG4gICAgbWVzc2FnZS5zZXJ2ZXIoZGF0YS5tZXNzYWdlKVxufSlcblxuLy8gSm9pbmluZyB0aGUgY2hhdFxuc29ja2V0Lm9uKCdsb2FkR3JvY2VyaWVzJywgKGRhdGEpID0+IHtcbiAgICBncm9jZXJ5LmdldEFsbChkYXRhKVxufSlcblxuLy8gTGVhdmluZyB0aGUgY2hhdFxuc29ja2V0Lm9uKCdsZWF2ZScsIChkYXRhKSA9PiB7XG4gICAgbWVzc2FnZS5zZXJ2ZXIoZGF0YS5tZXNzYWdlKVxufSkiLCJjb25zdCBjaGF0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2NoYXRdJylcblxuZXhwb3J0IGZ1bmN0aW9uIGNoYXQodXNlcikge1xuICAgIGNvbnN0IG1lc3NhZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBtZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IGAke3VzZXIubmFtZX06ICR7dXNlci5tZXNzYWdlfWBcbiAgICBtZXNzYWdlRWxlbWVudC5jbGFzc05hbWUgPSAndXNlcidcblxuICAgIGFkZE1lc3NhZ2UobWVzc2FnZUVsZW1lbnQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJ2ZXIoZGF0YSkge1xuICAgIGNvbnNvbGUubG9nKGRhdGEpXG4gICAgY29uc3QgbWVzc2FnZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIG1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gZGF0YVxuICAgIG1lc3NhZ2VFbGVtZW50LmNsYXNzTmFtZSA9ICdzZXJ2ZXInXG5cbiAgICBhZGRNZXNzYWdlKG1lc3NhZ2VFbGVtZW50KVxufVxuXG5mdW5jdGlvbiBhZGRNZXNzYWdlKG1lc3NhZ2VFbGVtZW50KSB7XG4gICAgY2hhdENvbnRhaW5lci5hcHBlbmQobWVzc2FnZUVsZW1lbnQpXG4gICAgc2Nyb2xsVG9Cb3R0b20oKVxufVxuXG5mdW5jdGlvbiBzY3JvbGxUb0JvdHRvbSgpIHtcbiAgICBjaGF0Q29udGFpbmVyLnNjcm9sbFRvcCA9IGNoYXRDb250YWluZXIuc2Nyb2xsSGVpZ2h0IC0gY2hhdENvbnRhaW5lci5jbGllbnRIZWlnaHRcbn0iLCJjb25zdCBzb2NrZXQgPSBpbygpXG5cbmV4cG9ydCBmdW5jdGlvbiBkcmlua3MoKSB7XG4gICAgY29uc3QgZHJpbmtzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RyaW5rc10nKVxuICAgIGNvbnN0IGRyaW5rcyA9IFsuLi5kcmlua3NDb250YWluZXIuY2hpbGRyZW5dXG5cbiAgICBkcmlua3MuZm9yRWFjaChkcmluayA9PiB7XG4gICAgICAgIGRyaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsgaWQ6IGRyaW5rLmlkLCBkcmluazogZHJpbmsucXVlcnlTZWxlY3RvcigncCcpLnRleHRDb250ZW50IH1cbiAgICAgICAgICAgIHNvY2tldC5lbWl0KCdwaWNrRHJpbmsnLCB7IGRhdGEgfSlcbiAgICAgICAgfSlcbiAgICB9KVxufSIsIi8vIFRvZG86IFdhbm5lZXIgZWVuIGJvb2RzY2hhcCBtZWVyIGRhbiAxeCB2b29ya29tdCBlZW4gY291bnRlciB0b2V2b2VnZW5cbi8vIFRvZG86IFdhbm5lZXIgZWVuIGJvb2RzY2hhcCBtZWVyIGRhbiAxeCB2b29ya29tdCBlZW4gLSB0b2V2b2VnZW4gb20gdGUgbWluZGVyZW4gaW4gaG9ldmVlbGhlaWRcblxuY29uc3QgZ3JvY2VyeWxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZ3JvY2VyeS1jb250YWluZXJdIHVsJylcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChkYXRhKSB7XG4gICAgZ3JvY2VyeWxpc3QuYXBwZW5kKGdyb2NlcnlFbGVtZW50KGRhdGEpKVxufVxuXG5mdW5jdGlvbiBncm9jZXJ5RWxlbWVudChkYXRhKSB7XG4gICAgY29uc3QgZ3JvY2VyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJylcbiAgICBjb25zdCByZW1vdmVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcblxuICAgIGdyb2NlcnkudGV4dENvbnRlbnQgPSBkYXRhXG4gICAgcmVtb3ZlQnV0dG9uLnRleHRDb250ZW50ID0gJ1gnXG5cbiAgICBncm9jZXJ5LmFwcGVuZChyZW1vdmVCdXR0b24pXG4gICAgcmVtb3ZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiByZW1vdmUoZXZlbnQudGFyZ2V0KSlcblxuICAgIHJldHVybiBncm9jZXJ5XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGwoZGF0YSkge1xuICAgIGNvbnN0IGdyb2NpZXMgPSBkYXRhLmdyb2Nlcmllc1xuXG4gICAgZ3JvY2llcy5mb3JFYWNoKGdyb2NlcnkgPT4ge1xuICAgICAgICBhZGQoZ3JvY2VyeSlcbiAgICB9KVxufVxuXG5mdW5jdGlvbiByZW1vdmUoZWxlbWVudCkge1xuICAgIGNvbnN0IGdyb2NlcnkgPSBlbGVtZW50LnBhcmVudEVsZW1lbnRcbiAgICBncm9jZXJ5LnJlbW92ZSgpXG59XG5cbi8vIFJlbW92ZSBhbGwgZ3JvY2VyaWVzXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZ3JvY2VyeS1jb250YWluZXJdIGJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0IGdyb2NlcmllcyA9IFsuLi5ncm9jZXJ5bGlzdC5jaGlsZHJlbl1cbiAgICBncm9jZXJpZXMuZm9yRWFjaChncm9jZXJ5ID0+IHtcbiAgICAgICAgZ3JvY2VyeS5yZW1vdmUoKVxuICAgIH0pXG59KSJdfQ=="}