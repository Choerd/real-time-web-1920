{"version":3,"sources":["node_modules/browser-pack/_prelude.js","development/js/index.js","development/js/modules/chatting.js","development/js/modules/commands.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import * as message from './modules/chatting'\n\nconst socket = io()\n\nconst\n    chatForm = document.querySelector('[send-message]'),\n    chatName = chatForm.querySelector('input[type=\"text\"]:first-of-type'),\n    chatString = chatForm.querySelector('div input[type=\"text\"]'),\n    chatSubmit = chatForm.querySelector('div input[type=\"submit\"]')\n\n// Chatting\nchatSubmit.addEventListener('click', (event) => {\n    event.preventDefault()\n\n    socket.emit('chat', {\n        name: chatName.value,\n        message: chatString.value\n    })\n\n    socket.emit('command', {\n        name: chatName.value,\n        message: chatString.value\n    })\n})\n\nsocket.on('chat', (user) => {\n    message.chat(user)\n})\n\nsocket.on('command', (command) => {\n    message.command(command)\n})\n\n// Joining the chat\nsocket.on('join', (data) => {\n    message.server(data)\n})\n\n// Leaving the chat\nsocket.on('leave', (data) => {\n    message.server(data)\n})\n\nfunction resetHeight() {\n    document.body.style.height = window.innerHeight + \"px\";\n}\nwindow.addEventListener(\"resize\", resetHeight);\nresetHeight()","import * as commands from './commands'\n\nconst\n    chatContainer = document.querySelector('[chat]'),\n    chatForm = document.querySelector('[send-message]'),\n    chatName = chatForm.querySelector('input[type=\"text\"]:first-of-type'),\n    chatString = chatForm.querySelector('div input[type=\"text\"]')\n\nexport function chat(user) {\n    const messageElement = document.createElement('div')\n    messageElement.textContent = `${user.name}: ${user.message}`\n    messageElement.className = 'user'\n\n    if (user.name.split(' ')[0] == chatName.value) {\n        messageElement.className = messageElement.className + ' you'\n    }\n\n    addMessage(messageElement)\n}\n\nexport function server(data) {\n    const messageElement = document.createElement('div')\n    messageElement.textContent = data.message\n    messageElement.className = 'server'\n    addMessage(messageElement)\n}\n\nexport function command(command) {\n    if (commands.check(command.message)) {\n        addMessage(commands.run(command.message))\n    } else {\n        const messageElement = document.createElement('div')\n        messageElement.textContent = `This command is not available!`\n        messageElement.className = 'command'\n        addMessage(messageElement)\n    }\n}\n\n// Functions I re-use\nfunction addMessage(messageElement) {\n    if (messageElement.length === undefined) {\n        chatContainer.append(messageElement)\n    } else {\n        messageElement.forEach(element => chatContainer.append(element))\n    }\n    chatString.value = ''\n    scrollToBottom()\n}\n\nfunction scrollToBottom() {\n    chatContainer.scrollTop = chatContainer.scrollHeight - chatContainer.clientHeight;\n}","const commands = ['/commands', '/red', '/yellow', '/green', '/blue']\n\nexport function check(command) {\n    return commands.find(message => message === command)\n}\n\nexport function run(command) {\n    if (command === '/commands') {\n        return allCommands()\n    }\n\n    if (command === '/red') {\n        return color('#E01E5A', 'Red')\n    }\n\n    if (command === '/yellow') {\n        return color('#EBB22E', 'Yellow')\n    }\n\n    if (command === '/green') {\n        return color('#2FB67D', 'Green')\n    }\n\n    if (command === '/blue') {\n        return color('#37C5F0', 'Blue')\n    }\n}\n\nfunction allCommands() {\n    return commands.map(command => {\n        return createMessage(command)\n    })\n}\n\nfunction color(color, name) {\n    document.querySelector('[chatpage]').setAttribute('style', `background-color: ${color}`)\n    return createMessage(`Changed color to: ${name}`)\n}\n\nfunction createMessage(message) {\n    const messageElement = document.createElement('div')\n    messageElement.textContent = message\n    messageElement.className = 'command'\n\n    return messageElement\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkZXZlbG9wbWVudC9qcy9pbmRleC5qcyIsImRldmVsb3BtZW50L2pzL21vZHVsZXMvY2hhdHRpbmcuanMiLCJkZXZlbG9wbWVudC9qcy9tb2R1bGVzL2NvbW1hbmRzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7OztBQ0FBOzs7Ozs7QUFFQSxJQUFNLE1BQU0sR0FBRyxFQUFFLEVBQWpCO0FBRUEsSUFDSSxRQUFRLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsZ0JBQXZCLENBRGY7QUFBQSxJQUVJLFFBQVEsR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixrQ0FBdkIsQ0FGZjtBQUFBLElBR0ksVUFBVSxHQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLHdCQUF2QixDQUhqQjtBQUFBLElBSUksVUFBVSxHQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLDBCQUF2QixDQUpqQixDLENBTUE7O0FBQ0EsVUFBVSxDQUFDLGdCQUFYLENBQTRCLE9BQTVCLEVBQXFDLFVBQUMsS0FBRCxFQUFXO0FBQzVDLEVBQUEsS0FBSyxDQUFDLGNBQU47QUFFQSxFQUFBLE1BQU0sQ0FBQyxJQUFQLENBQVksTUFBWixFQUFvQjtBQUNoQixJQUFBLElBQUksRUFBRSxRQUFRLENBQUMsS0FEQztBQUVoQixJQUFBLE9BQU8sRUFBRSxVQUFVLENBQUM7QUFGSixHQUFwQjtBQUtBLEVBQUEsTUFBTSxDQUFDLElBQVAsQ0FBWSxTQUFaLEVBQXVCO0FBQ25CLElBQUEsSUFBSSxFQUFFLFFBQVEsQ0FBQyxLQURJO0FBRW5CLElBQUEsT0FBTyxFQUFFLFVBQVUsQ0FBQztBQUZELEdBQXZCO0FBSUgsQ0FaRDtBQWNBLE1BQU0sQ0FBQyxFQUFQLENBQVUsTUFBVixFQUFrQixVQUFDLElBQUQsRUFBVTtBQUN4QixFQUFBLE9BQU8sQ0FBQyxJQUFSLENBQWEsSUFBYjtBQUNILENBRkQ7QUFJQSxNQUFNLENBQUMs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M0IsV0FBTyxhQUFhLENBQUMsT0FBRCxDQUFwQjtBQUNILEdBRk0sQ0FBUDtBQUdIOztBQUVELFNBQVMsS0FBVCxDQUFlLEtBQWYsRUFBc0IsSUFBdEIsRUFBNEI7QUFDeEIsRUFBQSxRQUFRLENBQUMsYUFBVCxDQUF1QixZQUF2QixFQUFxQyxZQUFyQyxDQUFrRCxPQUFsRCw4QkFBZ0YsS0FBaEY7QUFDQSxTQUFPLGFBQWEsNkJBQXNCLElBQXRCLEVBQXBCO0FBQ0g7O0FBRUQsU0FBUyxhQUFULENBQXVCLE9BQXZCLEVBQWdDO0FBQzVCLE1BQU0sY0FBYyxHQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLEtBQXZCLENBQXZCO0FBQ0EsRUFBQSxjQUFjLENBQUMsV0FBZixHQUE2QixPQUE3QjtBQUNBLEVBQUEsY0FBYyxDQUFDLFNBQWYsR0FBMkIsU0FBM0I7QUFFQSxTQUFPLGNBQVA7QUFDSCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImltcG9ydCAqIGFzIG1lc3NhZ2UgZnJvbSAnLi9tb2R1bGVzL2NoYXR0aW5nJ1xuXG5jb25zdCBzb2NrZXQgPSBpbygpXG5cbmNvbnN0XG4gICAgY2hhdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbc2VuZC1tZXNzYWdlXScpLFxuICAgIGNoYXROYW1lID0gY2hhdEZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cInRleHRcIl06Zmlyc3Qtb2YtdHlwZScpLFxuICAgIGNoYXRTdHJpbmcgPSBjaGF0Rm9ybS5xdWVyeVNlbGVjdG9yKCdkaXYgaW5wdXRbdHlwZT1cInRleHRcIl0nKSxcbiAgICBjaGF0U3VibWl0ID0gY2hhdEZvcm0ucXVlcnlTZWxlY3RvcignZGl2IGlucHV0W3R5cGU9XCJzdWJtaXRcIl0nKVxuXG4vLyBDaGF0dGluZ1xuY2hhdFN1Ym1pdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgIHNvY2tldC5lbWl0KCdjaGF0Jywge1xuICAgICAgICBuYW1lOiBjaGF0TmFtZS52YWx1ZSxcbiAgICAgICAgbWVzc2FnZTogY2hhdFN0cmluZy52YWx1ZVxuICAgIH0pXG5cbiAgICBzb2NrZXQuZW1pdCgnY29tbWFuZCcsIHtcbiAgICAgICAgbmFtZTogY2hhdE5hbWUudmFsdWUsXG4gICAgICAgIG1lc3NhZ2U6IGNoYXRTdHJpbmcudmFsdWVcbiAgICB9KVxufSlcblxuc29ja2V0Lm9uKCdjaGF0JywgKHVzZXIpID0+IHtcbiAgICBtZXNzYWdlLmNoYXQodXNlcilcbn0pXG5cbnNvY2tldC5vbignY29tbWFuZCcsIChjb21tYW5kKSA9PiB7XG4gICAgbWVzc2FnZS5jb21tYW5kKGNvbW1hbmQpXG59KVxuXG4vLyBKb2luaW5nIHRoZSBjaGF0XG5zb2NrZXQub24oJ2pvaW4nLCAoZGF0YSkgPT4ge1xuICAgIG1lc3NhZ2Uuc2VydmVyKGRhdGEpXG59KVxuXG4vLyBMZWF2aW5nIHRoZSBjaGF0XG5zb2NrZXQub24oJ2xlYXZlJywgKGRhdGEpID0+IHtcbiAgICBtZXNzYWdlLnNlcnZlcihkYXRhKVxufSlcblxuZnVuY3Rpb24gcmVzZXRIZWlnaHQoKSB7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKyBcInB4XCI7XG59XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCByZXNldEhlaWdodCk7XG5yZXNldEhlaWdodCgpIiwiaW1wb3J0ICogYXMgY29tbWFuZHMgZnJvbSAnLi9jb21tYW5kcydcblxuY29uc3RcbiAgICBjaGF0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2NoYXRdJyksXG4gICAgY2hhdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbc2VuZC1tZXNzYWdlXScpLFxuICAgIGNoYXROYW1lID0gY2hhdEZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cInRleHRcIl06Zmlyc3Qtb2YtdHlwZScpLFxuICAgIGNoYXRTdHJpbmcgPSBjaGF0Rm9ybS5xdWVyeVNlbGVjdG9yKCdkaXYgaW5wdXRbdHlwZT1cInRleHRcIl0nKVxuXG5leHBvcnQgZnVuY3Rpb24gY2hhdCh1c2VyKSB7XG4gICAgY29uc3QgbWVzc2FnZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIG1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gYCR7dXNlci5uYW1lfTogJHt1c2VyLm1lc3NhZ2V9YFxuICAgIG1lc3NhZ2VFbGVtZW50LmNsYXNzTmFtZSA9ICd1c2VyJ1xuXG4gICAgaWYgKHVzZXIubmFtZS5zcGxpdCgnICcpWzBdID09IGNoYXROYW1lLnZhbHVlKSB7XG4gICAgICAgIG1lc3NhZ2VFbGVtZW50LmNsYXNzTmFtZSA9IG1lc3NhZ2VFbGVtZW50LmNsYXNzTmFtZSArICcgeW91J1xuICAgIH1cblxuICAgIGFkZE1lc3NhZ2UobWVzc2FnZUVsZW1lbnQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJ2ZXIoZGF0YSkge1xuICAgIGNvbnN0IG1lc3NhZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBtZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IGRhdGEubWVzc2FnZVxuICAgIG1lc3NhZ2VFbGVtZW50LmNsYXNzTmFtZSA9ICdzZXJ2ZXInXG4gICAgYWRkTWVzc2FnZShtZXNzYWdlRWxlbWVudClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbW1hbmQoY29tbWFuZCkge1xuICAgIGlmIChjb21tYW5kcy5jaGVjayhjb21tYW5kLm1lc3NhZ2UpKSB7XG4gICAgICAgIGFkZE1lc3NhZ2UoY29tbWFuZHMucnVuKGNvbW1hbmQubWVzc2FnZSkpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBtZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IGBUaGlzIGNvbW1hbmQgaXMgbm90IGF2YWlsYWJsZSFgXG4gICAgICAgIG1lc3NhZ2VFbGVtZW50LmNsYXNzTmFtZSA9ICdjb21tYW5kJ1xuICAgICAgICBhZGRNZXNzYWdlKG1lc3NhZ2VFbGVtZW50KVxuICAgIH1cbn1cblxuLy8gRnVuY3Rpb25zIEkgcmUtdXNlXG5mdW5jdGlvbiBhZGRNZXNzYWdlKG1lc3NhZ2VFbGVtZW50KSB7XG4gICAgaWYgKG1lc3NhZ2VFbGVtZW50Lmxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNoYXRDb250YWluZXIuYXBwZW5kKG1lc3NhZ2VFbGVtZW50KVxuICAgIH0gZWxzZSB7XG4gICAgICAgIG1lc3NhZ2VFbGVtZW50LmZvckVhY2goZWxlbWVudCA9PiBjaGF0Q29udGFpbmVyLmFwcGVuZChlbGVtZW50KSlcbiAgICB9XG4gICAgY2hhdFN0cmluZy52YWx1ZSA9ICcnXG4gICAgc2Nyb2xsVG9Cb3R0b20oKVxufVxuXG5mdW5jdGlvbiBzY3JvbGxUb0JvdHRvbSgpIHtcbiAgICBjaGF0Q29udGFpbmVyLnNjcm9sbFRvcCA9IGNoYXRDb250YWluZXIuc2Nyb2xsSGVpZ2h0IC0gY2hhdENvbnRhaW5lci5jbGllbnRIZWlnaHQ7XG59IiwiY29uc3QgY29tbWFuZHMgPSBbJy9jb21tYW5kcycsICcvcmVkJywgJy95ZWxsb3cnLCAnL2dyZWVuJywgJy9ibHVlJ11cblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrKGNvbW1hbmQpIHtcbiAgICByZXR1cm4gY29tbWFuZHMuZmluZChtZXNzYWdlID0+IG1lc3NhZ2UgPT09IGNvbW1hbmQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBydW4oY29tbWFuZCkge1xuICAgIGlmIChjb21tYW5kID09PSAnL2NvbW1hbmRzJykge1xuICAgICAgICByZXR1cm4gYWxsQ29tbWFuZHMoKVxuICAgIH1cblxuICAgIGlmIChjb21tYW5kID09PSAnL3JlZCcpIHtcbiAgICAgICAgcmV0dXJuIGNvbG9yKCcjRTAxRTVBJywgJ1JlZCcpXG4gICAgfVxuXG4gICAgaWYgKGNvbW1hbmQgPT09ICcveWVsbG93Jykge1xuICAgICAgICByZXR1cm4gY29sb3IoJyNFQkIyMkUnLCAnWWVsbG93JylcbiAgICB9XG5cbiAgICBpZiAoY29tbWFuZCA9PT0gJy9ncmVlbicpIHtcbiAgICAgICAgcmV0dXJuIGNvbG9yKCcjMkZCNjdEJywgJ0dyZWVuJylcbiAgICB9XG5cbiAgICBpZiAoY29tbWFuZCA9PT0gJy9ibHVlJykge1xuICAgICAgICByZXR1cm4gY29sb3IoJyMzN0M1RjAnLCAnQmx1ZScpXG4gICAgfVxufVxuXG5mdW5jdGlvbiBhbGxDb21tYW5kcygpIHtcbiAgICByZXR1cm4gY29tbWFuZHMubWFwKGNvbW1hbmQgPT4ge1xuICAgICAgICByZXR1cm4gY3JlYXRlTWVzc2FnZShjb21tYW5kKVxuICAgIH0pXG59XG5cbmZ1bmN0aW9uIGNvbG9yKGNvbG9yLCBuYW1lKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2NoYXRwYWdlXScpLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBgYmFja2dyb3VuZC1jb2xvcjogJHtjb2xvcn1gKVxuICAgIHJldHVybiBjcmVhdGVNZXNzYWdlKGBDaGFuZ2VkIGNvbG9yIHRvOiAke25hbWV9YClcbn1cblxuZnVuY3Rpb24gY3JlYXRlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgY29uc3QgbWVzc2FnZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIG1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gbWVzc2FnZVxuICAgIG1lc3NhZ2VFbGVtZW50LmNsYXNzTmFtZSA9ICdjb21tYW5kJ1xuXG4gICAgcmV0dXJuIG1lc3NhZ2VFbGVtZW50XG59Il19"}