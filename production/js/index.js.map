{"version":3,"sources":["node_modules/browser-pack/_prelude.js","development/js/index.js","development/js/modules/chat/messages.js","development/js/modules/groceries/groceries.js","development/js/modules/socket-io/_base.js","development/js/modules/socket-io/_chat.js","development/js/modules/socket-io/socket.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import * as run from './modules/socket-io/socket'\n\nconst socket = io()\n\nrun.sockets(socket)\n\n// drinks.drinks()\n\n\n// socket.on('pickDrink', (data) => {\n//     data.ingredients.forEach(ingredient => {\n//         grocery.add(ingredient)\n//     })\n\n//     message.server(`All the ingredients of: ${data.name} were added to the grocerylist`)\n// })","const chatContainer = document.querySelector('[chat]')\n\nexport function chat(user) {\n    const messageElement = document.createElement('div')\n    messageElement.textContent = `${user.name}: ${user.message}`\n    messageElement.className = 'user'\n\n    addMessage(messageElement)\n}\n\nexport function server(data) {\n    const messageElement = document.createElement('div')\n    messageElement.textContent = data\n    messageElement.className = 'server'\n\n    addMessage(messageElement)\n}\n\nfunction addMessage(messageElement) {\n    chatContainer.append(messageElement)\n    scrollToBottom()\n}\n\nfunction scrollToBottom() {\n    chatContainer.scrollTop = chatContainer.scrollHeight - chatContainer.clientHeight\n}","const grocerylist = document.querySelector('[grocery-container] ul')\n\nexport function add(data) {\n    const grocery = document.createElement('li')\n    const removeButton = document.createElement('span')\n\n    grocery.textContent = data\n    removeButton.textContent = 'X'\n\n    grocery.append(removeButton)\n    grocerylist.append(grocery)\n\n    return removeButton\n}\n\nexport function renderAll(groceries) {\n    if (groceries.length > 0) {\n        groceries.forEach(grocery => {\n            add(grocery)\n        })\n    }\n}\n\n// function removeAll() {\n//     const groceries = [...grocerylist.children]\n//     groceries.forEach(grocery => {\n//         grocery.remove()\n//     })\n// }\n\n// // Remove all groceries\n// document.querySelector('[grocery-container] button').addEventListener('click', removeAll)","import * as message from '../chat/messages'\nimport * as grocery from '../groceries/groceries'\n\nexport default (io) => {\n    // Joining the chat\n    io.on('join', (data) => {\n        message.server(data.chat.message)\n        grocery.renderAll(data.grocerylist.groceries)\n\n        const listItems = document.querySelectorAll('[grocery-container] ul li span')\n        listItems.forEach(li => {\n            li.addEventListener('click', (event) => {\n                const string = event.target.parentElement.textContent\n                const groceryName = string.substring(0, string.length - 1)\n                io.emit('remove', { name: groceryName })\n            })\n        })\n    })\n\n    io.on('joined', (data) => {\n        message.server(data.message)\n    })\n\n    // Leaving the chat\n    io.on('leave', (data) => {\n        message.server(data.message)\n    })\n}\n","import * as message from '../chat/messages'\nimport * as grocery from '../groceries/groceries'\n\nexport default (io) => {\n    const\n        chatForm = document.querySelector('[send-message]'),\n        chatName = chatForm.querySelector('input[type=\"text\"]:first-of-type'),\n        chatString = chatForm.querySelector('div input[type=\"text\"]'),\n        chatSubmit = chatForm.querySelector('div input[type=\"submit\"]')\n\n    // Chatting\n    chatSubmit.addEventListener('click', (event) => {\n        event.preventDefault()\n\n        if (chatString.value.includes(':add')) {\n            io.emit('grocery', { grocery: chatString.value.split(':add')[1].substring(1) })\n        } else {\n            io.emit('chat', { name: chatName.value, message: chatString.value })\n        }\n\n        chatString.value = ''\n    })\n\n    // Basic chatting\n    io.on('chat', (data) => {\n        message.chat(data)\n    })\n\n    io.on('grocery', (data) => {\n        const removeButton = grocery.add(data)\n\n        removeButton.addEventListener('click', (event) => {\n            const string = event.target.parentElement.textContent\n            const groceryName = string.substring(0, string.length - 1)\n\n            io.emit('remove', { name: groceryName })\n        })\n    })\n\n    io.on('remove', (data) => {\n        for (const li of document.querySelectorAll(\"li\")) {\n            if (li.textContent.includes(data.name)) {\n                li.remove()\n            }\n        }\n    })\n}","import base from './_base'\nimport chat from './_chat'\n\nexport function sockets(io) {\n    base(io)\n    chat(io)\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkZXZlbG9wbWVudC9qcy9pbmRleC5qcyIsImRldmVsb3BtZW50L2pzL21vZHVsZXMvY2hhdC9tZXNzYWdlcy5qcyIsImRldmVsb3BtZW50L2pzL21vZHVsZXMvZ3JvY2VyaWVzL2dyb2Nlcmllcy5qcyIsImRldmVsb3BtZW50L2pzL21vZHVsZXMvc29ja2V0LWlvL19iYXNlLmpzIiwiZGV2ZWxvcG1lbnQvanMvbW9kdWxlcy9zb2NrZXQtaW8vX2NoYXQuanMiLCJkZXZlbG9wbWVudC9qcy9tb2R1bGVzL3NvY2tldC1pby9zb2NrZXQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0FDQUE7Ozs7OztBQUVBLElBQU0sTUFBTSxHQUFHLEVBQUUsRUFBakI7QUFFQSxHQUFHLENBQUMsT0FBSixDQUFZLE1BQVosRSxDQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7Ozs7Ozs7O0FDZkEsSUFBTSxhQUFhLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsUUFBdkIsQ0FBdEI7O0FBRU8sU0FBUyxJQUFULENBQWMsSUFBZCxFQUFvQjtBQUN2QixNQUFNLGNBQWMsR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixLQUF2QixDQUF2QjtBQUNBLEVBQUEsY0FBYyxDQUFDLFdBQWYsYUFBZ0MsSUFBSSxDQUFDLElBQXJDLGVBQThDLElBQUksQ0FBQyxPQUFuRDtBQUNBLEVBQUEsY0FBYyxDQUFDLFNBQWYsR0FBMkIsTUFBM0I7QUFFQSxFQUFBLFVBQVUsQ0FBQyxjQUFELENBQVY7QUFDSDs7QUFFTSxTQUFTLE1BQVQsQ0FBZ0IsSUFBaEIsRUFBc0I7QUFDekIsTUFBTSxjQUFjLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBdkI7QUFDQSxFQUFBLGNBQWMsQ0FBQyxXQUFmLEdBQTZCLElBQTdCO0FBQ0EsRUFBQSxjQUFjLENBQUMsU0FBZixHQUEyQixR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Q0FBQyxnQkFBYixDQUE4QixPQUE5QixFQUF1QyxVQUFDLEtBQUQsRUFBVztBQUM5QyxVQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTixDQUFhLGFBQWIsQ0FBMkIsV0FBMUM7QUFDQSxVQUFNLFdBQVcsR0FBRyxNQUFNLENBQUMsU0FBUCxDQUFpQixDQUFqQixFQUFvQixNQUFNLENBQUMsTUFBUCxHQUFnQixDQUFwQyxDQUFwQjtBQUVBLE1BQUEsRUFBRSxDQUFDLElBQUgsQ0FBUSxRQUFSLEVBQWtCO0FBQUUsUUFBQSxJQUFJLEVBQUU7QUFBUixPQUFsQjtBQUNILEtBTEQ7QUFNSCxHQVREO0FBV0EsRUFBQSxFQUFFLENBQUMsRUFBSCxDQUFNLFFBQU4sRUFBZ0IsVUFBQyxJQUFELEVBQVU7QUFBQSwrQ0FDTCxRQUFRLENBQUMsZ0JBQVQsQ0FBMEIsSUFBMUIsQ0FESztBQUFBOztBQUFBO0FBQ3RCLDBEQUFrRDtBQUFBLFlBQXZDLEVBQXVDOztBQUM5QyxZQUFJLEVBQUUsQ0FBQyxXQUFILENBQWUsUUFBZixDQUF3QixJQUFJLENBQUMsSUFBN0IsQ0FBSixFQUF3QztBQUNwQyxVQUFBLEVBQUUsQ0FBQyxNQUFIO0FBQ0g7QUFDSjtBQUxxQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBTXpCLEdBTkQ7QUFPSCxDOzs7Ozs7Ozs7Ozs7QUM5Q0Q7O0FBQ0E7Ozs7QUFFTyxTQUFTLE9BQVQsQ0FBaUIsRUFBakIsRUFBcUI7QUFDeEIsd0JBQUssRUFBTDtBQUNBLHdCQUFLLEVBQUw7QUFDSCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImltcG9ydCAqIGFzIHJ1biBmcm9tICcuL21vZHVsZXMvc29ja2V0LWlvL3NvY2tldCdcblxuY29uc3Qgc29ja2V0ID0gaW8oKVxuXG5ydW4uc29ja2V0cyhzb2NrZXQpXG5cbi8vIGRyaW5rcy5kcmlua3MoKVxuXG5cbi8vIHNvY2tldC5vbigncGlja0RyaW5rJywgKGRhdGEpID0+IHtcbi8vICAgICBkYXRhLmluZ3JlZGllbnRzLmZvckVhY2goaW5ncmVkaWVudCA9PiB7XG4vLyAgICAgICAgIGdyb2NlcnkuYWRkKGluZ3JlZGllbnQpXG4vLyAgICAgfSlcblxuLy8gICAgIG1lc3NhZ2Uuc2VydmVyKGBBbGwgdGhlIGluZ3JlZGllbnRzIG9mOiAke2RhdGEubmFtZX0gd2VyZSBhZGRlZCB0byB0aGUgZ3JvY2VyeWxpc3RgKVxuLy8gfSkiLCJjb25zdCBjaGF0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2NoYXRdJylcblxuZXhwb3J0IGZ1bmN0aW9uIGNoYXQodXNlcikge1xuICAgIGNvbnN0IG1lc3NhZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBtZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IGAke3VzZXIubmFtZX06ICR7dXNlci5tZXNzYWdlfWBcbiAgICBtZXNzYWdlRWxlbWVudC5jbGFzc05hbWUgPSAndXNlcidcblxuICAgIGFkZE1lc3NhZ2UobWVzc2FnZUVsZW1lbnQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJ2ZXIoZGF0YSkge1xuICAgIGNvbnN0IG1lc3NhZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBtZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IGRhdGFcbiAgICBtZXNzYWdlRWxlbWVudC5jbGFzc05hbWUgPSAnc2VydmVyJ1xuXG4gICAgYWRkTWVzc2FnZShtZXNzYWdlRWxlbWVudClcbn1cblxuZnVuY3Rpb24gYWRkTWVzc2FnZShtZXNzYWdlRWxlbWVudCkge1xuICAgIGNoYXRDb250YWluZXIuYXBwZW5kKG1lc3NhZ2VFbGVtZW50KVxuICAgIHNjcm9sbFRvQm90dG9tKClcbn1cblxuZnVuY3Rpb24gc2Nyb2xsVG9Cb3R0b20oKSB7XG4gICAgY2hhdENvbnRhaW5lci5zY3JvbGxUb3AgPSBjaGF0Q29udGFpbmVyLnNjcm9sbEhlaWdodCAtIGNoYXRDb250YWluZXIuY2xpZW50SGVpZ2h0XG59IiwiY29uc3QgZ3JvY2VyeWxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZ3JvY2VyeS1jb250YWluZXJdIHVsJylcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChkYXRhKSB7XG4gICAgY29uc3QgZ3JvY2VyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJylcbiAgICBjb25zdCByZW1vdmVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcblxuICAgIGdyb2NlcnkudGV4dENvbnRlbnQgPSBkYXRhXG4gICAgcmVtb3ZlQnV0dG9uLnRleHRDb250ZW50ID0gJ1gnXG5cbiAgICBncm9jZXJ5LmFwcGVuZChyZW1vdmVCdXR0b24pXG4gICAgZ3JvY2VyeWxpc3QuYXBwZW5kKGdyb2NlcnkpXG5cbiAgICByZXR1cm4gcmVtb3ZlQnV0dG9uXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJBbGwoZ3JvY2VyaWVzKSB7XG4gICAgaWYgKGdyb2Nlcmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGdyb2Nlcmllcy5mb3JFYWNoKGdyb2NlcnkgPT4ge1xuICAgICAgICAgICAgYWRkKGdyb2NlcnkpXG4gICAgICAgIH0pXG4gICAgfVxufVxuXG4vLyBmdW5jdGlvbiByZW1vdmVBbGwoKSB7XG4vLyAgICAgY29uc3QgZ3JvY2VyaWVzID0gWy4uLmdyb2NlcnlsaXN0LmNoaWxkcmVuXVxuLy8gICAgIGdyb2Nlcmllcy5mb3JFYWNoKGdyb2NlcnkgPT4ge1xuLy8gICAgICAgICBncm9jZXJ5LnJlbW92ZSgpXG4vLyAgICAgfSlcbi8vIH1cblxuLy8gLy8gUmVtb3ZlIGFsbCBncm9jZXJpZXNcbi8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tncm9jZXJ5LWNvbnRhaW5lcl0gYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVBbGwpIiwiaW1wb3J0ICogYXMgbWVzc2FnZSBmcm9tICcuLi9jaGF0L21lc3NhZ2VzJ1xuaW1wb3J0ICogYXMgZ3JvY2VyeSBmcm9tICcuLi9ncm9jZXJpZXMvZ3JvY2VyaWVzJ1xuXG5leHBvcnQgZGVmYXVsdCAoaW8pID0+IHtcbiAgICAvLyBKb2luaW5nIHRoZSBjaGF0XG4gICAgaW8ub24oJ2pvaW4nLCAoZGF0YSkgPT4ge1xuICAgICAgICBtZXNzYWdlLnNlcnZlcihkYXRhLmNoYXQubWVzc2FnZSlcbiAgICAgICAgZ3JvY2VyeS5yZW5kZXJBbGwoZGF0YS5ncm9jZXJ5bGlzdC5ncm9jZXJpZXMpXG5cbiAgICAgICAgY29uc3QgbGlzdEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2dyb2NlcnktY29udGFpbmVyXSB1bCBsaSBzcGFuJylcbiAgICAgICAgbGlzdEl0ZW1zLmZvckVhY2gobGkgPT4ge1xuICAgICAgICAgICAgbGkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmcgPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC50ZXh0Q29udGVudFxuICAgICAgICAgICAgICAgIGNvbnN0IGdyb2NlcnlOYW1lID0gc3RyaW5nLnN1YnN0cmluZygwLCBzdHJpbmcubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgICAgICBpby5lbWl0KCdyZW1vdmUnLCB7IG5hbWU6IGdyb2NlcnlOYW1lIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH0pXG5cbiAgICBpby5vbignam9pbmVkJywgKGRhdGEpID0+IHtcbiAgICAgICAgbWVzc2FnZS5zZXJ2ZXIoZGF0YS5tZXNzYWdlKVxuICAgIH0pXG5cbiAgICAvLyBMZWF2aW5nIHRoZSBjaGF0XG4gICAgaW8ub24oJ2xlYXZlJywgKGRhdGEpID0+IHtcbiAgICAgICAgbWVzc2FnZS5zZXJ2ZXIoZGF0YS5tZXNzYWdlKVxuICAgIH0pXG59XG4iLCJpbXBvcnQgKiBhcyBtZXNzYWdlIGZyb20gJy4uL2NoYXQvbWVzc2FnZXMnXG5pbXBvcnQgKiBhcyBncm9jZXJ5IGZyb20gJy4uL2dyb2Nlcmllcy9ncm9jZXJpZXMnXG5cbmV4cG9ydCBkZWZhdWx0IChpbykgPT4ge1xuICAgIGNvbnN0XG4gICAgICAgIGNoYXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW3NlbmQtbWVzc2FnZV0nKSxcbiAgICAgICAgY2hhdE5hbWUgPSBjaGF0Rm9ybS5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwidGV4dFwiXTpmaXJzdC1vZi10eXBlJyksXG4gICAgICAgIGNoYXRTdHJpbmcgPSBjaGF0Rm9ybS5xdWVyeVNlbGVjdG9yKCdkaXYgaW5wdXRbdHlwZT1cInRleHRcIl0nKSxcbiAgICAgICAgY2hhdFN1Ym1pdCA9IGNoYXRGb3JtLnF1ZXJ5U2VsZWN0b3IoJ2RpdiBpbnB1dFt0eXBlPVwic3VibWl0XCJdJylcblxuICAgIC8vIENoYXR0aW5nXG4gICAgY2hhdFN1Ym1pdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAgICAgaWYgKGNoYXRTdHJpbmcudmFsdWUuaW5jbHVkZXMoJzphZGQnKSkge1xuICAgICAgICAgICAgaW8uZW1pdCgnZ3JvY2VyeScsIHsgZ3JvY2VyeTogY2hhdFN0cmluZy52YWx1ZS5zcGxpdCgnOmFkZCcpWzFdLnN1YnN0cmluZygxKSB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW8uZW1pdCgnY2hhdCcsIHsgbmFtZTogY2hhdE5hbWUudmFsdWUsIG1lc3NhZ2U6IGNoYXRTdHJpbmcudmFsdWUgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIGNoYXRTdHJpbmcudmFsdWUgPSAnJ1xuICAgIH0pXG5cbiAgICAvLyBCYXNpYyBjaGF0dGluZ1xuICAgIGlvLm9uKCdjaGF0JywgKGRhdGEpID0+IHtcbiAgICAgICAgbWVzc2FnZS5jaGF0KGRhdGEpXG4gICAgfSlcblxuICAgIGlvLm9uKCdncm9jZXJ5JywgKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgcmVtb3ZlQnV0dG9uID0gZ3JvY2VyeS5hZGQoZGF0YSlcblxuICAgICAgICByZW1vdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmluZyA9IGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnRleHRDb250ZW50XG4gICAgICAgICAgICBjb25zdCBncm9jZXJ5TmFtZSA9IHN0cmluZy5zdWJzdHJpbmcoMCwgc3RyaW5nLmxlbmd0aCAtIDEpXG5cbiAgICAgICAgICAgIGlvLmVtaXQoJ3JlbW92ZScsIHsgbmFtZTogZ3JvY2VyeU5hbWUgfSlcbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgaW8ub24oJ3JlbW92ZScsIChkYXRhKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgbGkgb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImxpXCIpKSB7XG4gICAgICAgICAgICBpZiAobGkudGV4dENvbnRlbnQuaW5jbHVkZXMoZGF0YS5uYW1lKSkge1xuICAgICAgICAgICAgICAgIGxpLnJlbW92ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KVxufSIsImltcG9ydCBiYXNlIGZyb20gJy4vX2Jhc2UnXG5pbXBvcnQgY2hhdCBmcm9tICcuL19jaGF0J1xuXG5leHBvcnQgZnVuY3Rpb24gc29ja2V0cyhpbykge1xuICAgIGJhc2UoaW8pXG4gICAgY2hhdChpbylcbn0iXX0="}