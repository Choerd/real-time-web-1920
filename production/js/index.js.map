{"version":3,"sources":["node_modules/browser-pack/_prelude.js","development/js/index.js","development/js/modules/chat/messages.js","development/js/modules/groceries/groceries.js","development/js/modules/socket-io/_base.js","development/js/modules/socket-io/_chat.js","development/js/modules/socket-io/socket.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import * as run from './modules/socket-io/socket'\n\nconst socket = io()\n\nrun.sockets(socket)\n\n// drinks.drinks()\n\n\n// socket.on('pickDrink', (data) => {\n//     data.ingredients.forEach(ingredient => {\n//         grocery.add(ingredient)\n//     })\n\n//     message.server(`All the ingredients of: ${data.name} were added to the grocerylist`)\n// })","const chatContainer = document.querySelector('[chat]')\n\nexport function chat(user) {\n    const messageElement = document.createElement('div')\n    messageElement.textContent = `${user.name}: ${user.message}`\n    messageElement.className = 'user'\n\n    addMessage(messageElement)\n}\n\nexport function server(data) {\n    const messageElement = document.createElement('div')\n    messageElement.textContent = data\n    messageElement.className = 'server'\n\n    addMessage(messageElement)\n}\n\nfunction addMessage(messageElement) {\n    chatContainer.append(messageElement)\n    scrollToBottom()\n}\n\nfunction scrollToBottom() {\n    chatContainer.scrollTop = chatContainer.scrollHeight - chatContainer.clientHeight\n}","const grocerylist = document.querySelector('[grocery-container] ul')\n\n// Add a single grocery Done\n\n// Remove a single grocery\n\n// Remove all groceries\n\n\nexport function add(data) {\n    const grocery = document.createElement('li')\n    const removeButton = document.createElement('span')\n\n    grocery.textContent = data\n    removeButton.textContent = 'X'\n\n    grocery.append(removeButton)\n    // removeButton.addEventListener('click', (event) => remove(event.target))\n\n    grocerylist.append(grocery)\n\n    return removeButton\n}\n\nexport function remove(element) {\n\n    console.log('poep')\n\n    const li = element.parentElement\n\n    const text = element.parentElement.textContent\n    const grocery = text.substring(0, text.length - 1)\n\n\n    li.remove()\n}\n\nexport function renderAll(groceries) {\n    if (groceries.length > 0) {\n        groceries.forEach(grocery => {\n            add(grocery)\n        })\n    }\n}\n\nfunction removeAll() {\n    const groceries = [...grocerylist.children]\n    groceries.forEach(grocery => {\n        grocery.remove()\n    })\n}\n\n// Remove all groceries\ndocument.querySelector('[grocery-container] button').addEventListener('click', removeAll)","import * as message from '../chat/messages'\nimport * as grocery from '../groceries/groceries'\n\nexport default (io) => {\n    // Joining the chat\n    io.on('join', (data) => {\n        message.server(data.chat.message)\n        grocery.renderAll(data.grocerylist.groceries)\n    })\n\n    io.on('joined', (data) => {\n        message.server(data.message)\n    })\n\n    // Leaving the chat\n    io.on('leave', (data) => {\n        message.server(data.message)\n    })\n}","import * as message from '../chat/messages'\nimport * as grocery from '../groceries/groceries'\n\nexport default (io) => {\n    const\n        chatForm = document.querySelector('[send-message]'),\n        chatName = chatForm.querySelector('input[type=\"text\"]:first-of-type'),\n        chatString = chatForm.querySelector('div input[type=\"text\"]'),\n        chatSubmit = chatForm.querySelector('div input[type=\"submit\"]')\n\n    // Chatting\n    chatSubmit.addEventListener('click', (event) => {\n        event.preventDefault()\n\n        if (chatString.value.includes(':add')) {\n            io.emit('grocery', {\n                grocery: chatString.value.split(':add')[1].substring(1)\n            })\n        } else {\n            io.emit('chat', {\n                name: chatName.value,\n                message: chatString.value\n            })\n        }\n\n        chatString.value = ''\n    })\n\n    // Basic chatting\n    io.on('chat', (data) => {\n        message.chat(data)\n    })\n\n    io.on('grocery', (data) => {\n        const removeButton = grocery.add(data)\n\n        removeButton.addEventListener('click', (event) => grocery.remove(event.target))\n    })\n}","import base from './_base'\nimport chat from './_chat'\n\nexport function sockets(io) {\n    base(io)\n    chat(io)\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkZXZlbG9wbWVudC9qcy9pbmRleC5qcyIsImRldmVsb3BtZW50L2pzL21vZHVsZXMvY2hhdC9tZXNzYWdlcy5qcyIsImRldmVsb3BtZW50L2pzL21vZHVsZXMvZ3JvY2VyaWVzL2dyb2Nlcmllcy5qcyIsImRldmVsb3BtZW50L2pzL21vZHVsZXMvc29ja2V0LWlvL19iYXNlLmpzIiwiZGV2ZWxvcG1lbnQvanMvbW9kdWxlcy9zb2NrZXQtaW8vX2NoYXQuanMiLCJkZXZlbG9wbWVudC9qcy9tb2R1bGVzL3NvY2tldC1pby9zb2NrZXQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0FDQUE7Ozs7OztBQUVBLElBQU0sTUFBTSxHQUFHLEVBQUUsRUFBakI7QUFFQSxHQUFHLENBQUMsT0FBSixDQUFZLE1BQVosRSxDQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7Ozs7Ozs7O0FDZkEsSUFBTSxhQUFhLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsUUFBdkIsQ0FBdEI7O0FBRU8sU0FBUyxJQUFULENBQWMsSUFBZCxFQUFvQjtBQUN2QixNQUFNLGNBQWMsR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixLQUF2QixDQUF2QjtBQUNBLEVBQUEsY0FBYyxDQUFDLFdBQWYsYUFBZ0MsSUFBSSxDQUFDLElBQXJDLGVBQThDLElBQUksQ0FBQyxPQUFuRDtBQUNBLEVBQUEsY0FBYyxDQUFDLFNBQWYsR0FBMkIsTUFBM0I7QUFFQSxFQUFBLFVBQVUsQ0FBQyxjQUFELENBQVY7QUFDSDs7QUFFTSxTQUFTLE1BQVQsQ0FBZ0IsSUFBaEIsRUFBc0I7QUFDekIsTUFBTSxjQUFjLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBdkI7QUFDQSxFQUFBLGNBQWMsQ0FBQyxXQUFmLEdBQTZCLElBQTdCO0FBQ0EsRUFBQSxjQUFjLENBQUMsU0FBZixHQUEyQixR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QUFOLEVBQWlCLFVBQUMsSUFBRCxFQUFVO0FBQ3ZCLFFBQU0sWUFBWSxHQUFHLE9BQU8sQ0FBQyxHQUFSLENBQVksSUFBWixDQUFyQjtBQUVBLElBQUEsWUFBWSxDQUFDLGdCQUFiLENBQThCLE9BQTlCLEVBQXVDLFVBQUMsS0FBRDtBQUFBLGFBQVcsT0FBTyxDQUFDLE1BQVIsQ0FBZSxLQUFLLENBQUMsTUFBckIsQ0FBWDtBQUFBLEtBQXZDO0FBQ0gsR0FKRDtBQUtILEM7Ozs7Ozs7Ozs7OztBQ3RDRDs7QUFDQTs7OztBQUVPLFNBQVMsT0FBVCxDQUFpQixFQUFqQixFQUFxQjtBQUN4Qix3QkFBSyxFQUFMO0FBQ0Esd0JBQUssRUFBTDtBQUNIIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiaW1wb3J0ICogYXMgcnVuIGZyb20gJy4vbW9kdWxlcy9zb2NrZXQtaW8vc29ja2V0J1xuXG5jb25zdCBzb2NrZXQgPSBpbygpXG5cbnJ1bi5zb2NrZXRzKHNvY2tldClcblxuLy8gZHJpbmtzLmRyaW5rcygpXG5cblxuLy8gc29ja2V0Lm9uKCdwaWNrRHJpbmsnLCAoZGF0YSkgPT4ge1xuLy8gICAgIGRhdGEuaW5ncmVkaWVudHMuZm9yRWFjaChpbmdyZWRpZW50ID0+IHtcbi8vICAgICAgICAgZ3JvY2VyeS5hZGQoaW5ncmVkaWVudClcbi8vICAgICB9KVxuXG4vLyAgICAgbWVzc2FnZS5zZXJ2ZXIoYEFsbCB0aGUgaW5ncmVkaWVudHMgb2Y6ICR7ZGF0YS5uYW1lfSB3ZXJlIGFkZGVkIHRvIHRoZSBncm9jZXJ5bGlzdGApXG4vLyB9KSIsImNvbnN0IGNoYXRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbY2hhdF0nKVxuXG5leHBvcnQgZnVuY3Rpb24gY2hhdCh1c2VyKSB7XG4gICAgY29uc3QgbWVzc2FnZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIG1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gYCR7dXNlci5uYW1lfTogJHt1c2VyLm1lc3NhZ2V9YFxuICAgIG1lc3NhZ2VFbGVtZW50LmNsYXNzTmFtZSA9ICd1c2VyJ1xuXG4gICAgYWRkTWVzc2FnZShtZXNzYWdlRWxlbWVudClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlcnZlcihkYXRhKSB7XG4gICAgY29uc3QgbWVzc2FnZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIG1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gZGF0YVxuICAgIG1lc3NhZ2VFbGVtZW50LmNsYXNzTmFtZSA9ICdzZXJ2ZXInXG5cbiAgICBhZGRNZXNzYWdlKG1lc3NhZ2VFbGVtZW50KVxufVxuXG5mdW5jdGlvbiBhZGRNZXNzYWdlKG1lc3NhZ2VFbGVtZW50KSB7XG4gICAgY2hhdENvbnRhaW5lci5hcHBlbmQobWVzc2FnZUVsZW1lbnQpXG4gICAgc2Nyb2xsVG9Cb3R0b20oKVxufVxuXG5mdW5jdGlvbiBzY3JvbGxUb0JvdHRvbSgpIHtcbiAgICBjaGF0Q29udGFpbmVyLnNjcm9sbFRvcCA9IGNoYXRDb250YWluZXIuc2Nyb2xsSGVpZ2h0IC0gY2hhdENvbnRhaW5lci5jbGllbnRIZWlnaHRcbn0iLCJjb25zdCBncm9jZXJ5bGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tncm9jZXJ5LWNvbnRhaW5lcl0gdWwnKVxuXG4vLyBBZGQgYSBzaW5nbGUgZ3JvY2VyeSBEb25lXG5cbi8vIFJlbW92ZSBhIHNpbmdsZSBncm9jZXJ5XG5cbi8vIFJlbW92ZSBhbGwgZ3JvY2VyaWVzXG5cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChkYXRhKSB7XG4gICAgY29uc3QgZ3JvY2VyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJylcbiAgICBjb25zdCByZW1vdmVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcblxuICAgIGdyb2NlcnkudGV4dENvbnRlbnQgPSBkYXRhXG4gICAgcmVtb3ZlQnV0dG9uLnRleHRDb250ZW50ID0gJ1gnXG5cbiAgICBncm9jZXJ5LmFwcGVuZChyZW1vdmVCdXR0b24pXG4gICAgLy8gcmVtb3ZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiByZW1vdmUoZXZlbnQudGFyZ2V0KSlcblxuICAgIGdyb2NlcnlsaXN0LmFwcGVuZChncm9jZXJ5KVxuXG4gICAgcmV0dXJuIHJlbW92ZUJ1dHRvblxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKGVsZW1lbnQpIHtcblxuICAgIGNvbnNvbGUubG9nKCdwb2VwJylcblxuICAgIGNvbnN0IGxpID0gZWxlbWVudC5wYXJlbnRFbGVtZW50XG5cbiAgICBjb25zdCB0ZXh0ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50LnRleHRDb250ZW50XG4gICAgY29uc3QgZ3JvY2VyeSA9IHRleHQuc3Vic3RyaW5nKDAsIHRleHQubGVuZ3RoIC0gMSlcblxuXG4gICAgbGkucmVtb3ZlKClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlckFsbChncm9jZXJpZXMpIHtcbiAgICBpZiAoZ3JvY2VyaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZ3JvY2VyaWVzLmZvckVhY2goZ3JvY2VyeSA9PiB7XG4gICAgICAgICAgICBhZGQoZ3JvY2VyeSlcbiAgICAgICAgfSlcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUFsbCgpIHtcbiAgICBjb25zdCBncm9jZXJpZXMgPSBbLi4uZ3JvY2VyeWxpc3QuY2hpbGRyZW5dXG4gICAgZ3JvY2VyaWVzLmZvckVhY2goZ3JvY2VyeSA9PiB7XG4gICAgICAgIGdyb2NlcnkucmVtb3ZlKClcbiAgICB9KVxufVxuXG4vLyBSZW1vdmUgYWxsIGdyb2Nlcmllc1xuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2dyb2NlcnktY29udGFpbmVyXSBidXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZUFsbCkiLCJpbXBvcnQgKiBhcyBtZXNzYWdlIGZyb20gJy4uL2NoYXQvbWVzc2FnZXMnXG5pbXBvcnQgKiBhcyBncm9jZXJ5IGZyb20gJy4uL2dyb2Nlcmllcy9ncm9jZXJpZXMnXG5cbmV4cG9ydCBkZWZhdWx0IChpbykgPT4ge1xuICAgIC8vIEpvaW5pbmcgdGhlIGNoYXRcbiAgICBpby5vbignam9pbicsIChkYXRhKSA9PiB7XG4gICAgICAgIG1lc3NhZ2Uuc2VydmVyKGRhdGEuY2hhdC5tZXNzYWdlKVxuICAgICAgICBncm9jZXJ5LnJlbmRlckFsbChkYXRhLmdyb2NlcnlsaXN0Lmdyb2NlcmllcylcbiAgICB9KVxuXG4gICAgaW8ub24oJ2pvaW5lZCcsIChkYXRhKSA9PiB7XG4gICAgICAgIG1lc3NhZ2Uuc2VydmVyKGRhdGEubWVzc2FnZSlcbiAgICB9KVxuXG4gICAgLy8gTGVhdmluZyB0aGUgY2hhdFxuICAgIGlvLm9uKCdsZWF2ZScsIChkYXRhKSA9PiB7XG4gICAgICAgIG1lc3NhZ2Uuc2VydmVyKGRhdGEubWVzc2FnZSlcbiAgICB9KVxufSIsImltcG9ydCAqIGFzIG1lc3NhZ2UgZnJvbSAnLi4vY2hhdC9tZXNzYWdlcydcbmltcG9ydCAqIGFzIGdyb2NlcnkgZnJvbSAnLi4vZ3JvY2VyaWVzL2dyb2NlcmllcydcblxuZXhwb3J0IGRlZmF1bHQgKGlvKSA9PiB7XG4gICAgY29uc3RcbiAgICAgICAgY2hhdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbc2VuZC1tZXNzYWdlXScpLFxuICAgICAgICBjaGF0TmFtZSA9IGNoYXRGb3JtLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdOmZpcnN0LW9mLXR5cGUnKSxcbiAgICAgICAgY2hhdFN0cmluZyA9IGNoYXRGb3JtLnF1ZXJ5U2VsZWN0b3IoJ2RpdiBpbnB1dFt0eXBlPVwidGV4dFwiXScpLFxuICAgICAgICBjaGF0U3VibWl0ID0gY2hhdEZvcm0ucXVlcnlTZWxlY3RvcignZGl2IGlucHV0W3R5cGU9XCJzdWJtaXRcIl0nKVxuXG4gICAgLy8gQ2hhdHRpbmdcbiAgICBjaGF0U3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgICAgICBpZiAoY2hhdFN0cmluZy52YWx1ZS5pbmNsdWRlcygnOmFkZCcpKSB7XG4gICAgICAgICAgICBpby5lbWl0KCdncm9jZXJ5Jywge1xuICAgICAgICAgICAgICAgIGdyb2Nlcnk6IGNoYXRTdHJpbmcudmFsdWUuc3BsaXQoJzphZGQnKVsxXS5zdWJzdHJpbmcoMSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpby5lbWl0KCdjaGF0Jywge1xuICAgICAgICAgICAgICAgIG5hbWU6IGNoYXROYW1lLnZhbHVlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoYXRTdHJpbmcudmFsdWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBjaGF0U3RyaW5nLnZhbHVlID0gJydcbiAgICB9KVxuXG4gICAgLy8gQmFzaWMgY2hhdHRpbmdcbiAgICBpby5vbignY2hhdCcsIChkYXRhKSA9PiB7XG4gICAgICAgIG1lc3NhZ2UuY2hhdChkYXRhKVxuICAgIH0pXG5cbiAgICBpby5vbignZ3JvY2VyeScsIChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlbW92ZUJ1dHRvbiA9IGdyb2NlcnkuYWRkKGRhdGEpXG5cbiAgICAgICAgcmVtb3ZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiBncm9jZXJ5LnJlbW92ZShldmVudC50YXJnZXQpKVxuICAgIH0pXG59IiwiaW1wb3J0IGJhc2UgZnJvbSAnLi9fYmFzZSdcbmltcG9ydCBjaGF0IGZyb20gJy4vX2NoYXQnXG5cbmV4cG9ydCBmdW5jdGlvbiBzb2NrZXRzKGlvKSB7XG4gICAgYmFzZShpbylcbiAgICBjaGF0KGlvKVxufSJdfQ=="}