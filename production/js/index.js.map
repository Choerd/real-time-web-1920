{"version":3,"sources":["node_modules/browser-pack/_prelude.js","development/js/index.js","development/js/modules/chat/messages.js","development/js/modules/groceries/groceries.js","development/js/modules/socket-io/_base.js","development/js/modules/socket-io/_chat.js","development/js/modules/socket-io/_drinks.js","development/js/modules/socket-io/socket.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import * as run from './modules/socket-io/socket'\n\nconst socket = io()\n\nrun.sockets(socket)\n","const chatContainer = document.querySelector('[chat]')\n\nexport function chat(user) {\n    const messageElement = document.createElement('div')\n    messageElement.textContent = `${user.name}: ${user.message}`\n    messageElement.className = 'user'\n\n    addMessage(messageElement)\n}\n\nexport function server(data) {\n    const messageElement = document.createElement('div')\n    messageElement.textContent = data\n    messageElement.className = 'server'\n\n    addMessage(messageElement)\n}\n\nfunction addMessage(messageElement) {\n    chatContainer.append(messageElement)\n    scrollToBottom()\n}\n\nfunction scrollToBottom() {\n    chatContainer.scrollTop = chatContainer.scrollHeight - chatContainer.clientHeight\n}","const grocerylist = document.querySelector('[grocery-container] ul')\n\nexport function add(data) {\n    const grocery = document.createElement('li')\n    const removeButton = document.createElement('span')\n\n    grocery.textContent = data\n    grocery.style.overflow = 'hidden'\n    removeButton.textContent = 'X'\n\n    grocery.append(removeButton)\n    grocerylist.append(grocery)\n\n    return removeButton\n}\n\nexport function renderAll(groceries) {\n    if (groceries.length > 0) {\n        groceries.forEach(grocery => {\n            add(grocery)\n        })\n    }\n}","import * as message from '../chat/messages'\nimport * as grocery from '../groceries/groceries'\n\nexport default (io) => {\n    // Joining the chat\n    io.on('join', (data) => {\n        message.server(data.chat.message)\n        grocery.renderAll(data.grocerylist.groceries)\n\n        const listItems = document.querySelectorAll('[grocery-container] ul li span')\n        listItems.forEach(li => {\n            li.addEventListener('click', (event) => {\n                const string = event.target.parentElement.textContent\n                const groceryName = string.substring(0, string.length - 1)\n                io.emit('remove', { name: groceryName })\n            })\n        })\n    })\n\n    io.on('joined', (data) => message.server(data.message))\n\n    io.on('nicknameChanged', (data) => message.server(data))\n\n    // Leaving the chat\n    io.on('leave', (data) => message.server(data.message))\n}\n","import * as message from '../chat/messages'\nimport * as grocery from '../groceries/groceries'\n\nexport default (io) => {\n    const\n        chatForm = document.querySelector('[send-message]'),\n        chatName = chatForm.querySelector('input[type=\"text\"]:first-of-type'),\n        chatString = chatForm.querySelector('div input[type=\"text\"]'),\n        chatSubmit = chatForm.querySelector('div input[type=\"submit\"]'),\n        groceriesDone = document.querySelector('[grocery-container] button'),\n        selectIngredient = document.querySelector('[drinks] select')\n\n    selectIngredient.addEventListener('change', (event) => {\n        io.emit('selectIngredient', { ingredient: event.target.value })\n    })\n\n    io.on('select', (data) => {\n        const drinkElements = [...document.querySelector('[drinks]').children]\n        drinkElements.shift()\n\n        drinkElements.forEach(element => {\n            element.remove()\n        })\n\n        data.forEach(drink => {\n            document.querySelector('[drinks]').appendChild(createDrinkElement(drink, io))\n        })\n\n        const newDrinks = [...document.querySelector('[drinks]').children]\n        newDrinks.shift()\n        newDrinks.forEach(drink => {\n            drink.addEventListener('click', () => {\n                const data = { id: drink.id, drink: drink.querySelector('p').textContent }\n                io.emit('drink', { data })\n            })\n        })\n    })\n\n    groceriesDone.addEventListener('click', () => {\n        io.emit('selectPeople')\n    })\n\n    io.on('done', (data) => {\n        const groceries = [...document.querySelectorAll('[grocery-container] ul li')]\n\n        data.forEach(person => {\n            person.groceries.forEach(ingredient => {\n                groceries.forEach(grocery => {\n                    const name = grocery.textContent.substring(0, grocery.textContent.length - 1)\n\n                    if (name == ingredient) {\n                        grocery.setAttribute('user-id', `${person.nickname}(${person.id}):`)\n                    }\n                })\n            })\n        })\n        groceriesDone.remove()\n    })\n\n    chatName.addEventListener('change', (event) => {\n        io.emit('changeName', { nickname: event.target.value })\n    })\n\n    // Chatting\n    chatSubmit.addEventListener('click', (event) => {\n        event.preventDefault()\n\n        if (chatString.value.includes(':add')) {\n            io.emit('grocery', { grocery: chatString.value.split(':add')[1].substring(1) })\n        } else {\n            io.emit('chat', { name: chatName.value, message: chatString.value })\n        }\n\n        chatString.value = ''\n    })\n\n    // Basic chatting\n    io.on('chat', (data) => {\n        message.chat(data)\n    })\n\n    io.on('grocery', (data) => {\n        const removeButton = grocery.add(data)\n\n        removeElement(removeButton, io)\n    })\n\n    io.on('drink', (ingredients) => {\n        ingredients.forEach(ingredient => {\n            removeElement(grocery.add(ingredient), io)\n        })\n    })\n\n    io.on('remove', (data) => {\n        for (const li of document.querySelectorAll(\"li\")) {\n            if (li.textContent.includes(data.name)) {\n                li.remove()\n            }\n        }\n    })\n}\n\nfunction createDrinkElement(data, io) {\n    const article = document.createElement('article')\n    const image = document.createElement('img')\n    const paragraph = document.createElement('p')\n\n    article.id = data.idDrink\n    image.setAttribute('src', data.strDrinkThumb)\n    paragraph.textContent = data.strDrink\n\n    article.appendChild(image)\n    article.appendChild(paragraph)\n\n    return article\n}\n\nfunction removeElement(button, io) {\n    button.addEventListener('click', (event) => {\n        const string = event.target.parentElement.textContent\n        const groceryName = string.substring(0, string.length - 1)\n\n        io.emit('remove', { name: groceryName })\n    })\n}","export default (io) => {\n    const drinksContainer = document.querySelector('[drinks]')\n    const drinks = [...drinksContainer.children]\n    drinks.shift()\n\n    drinks.forEach(drink => {\n        drink.addEventListener('click', () => {\n            const data = { id: drink.id, drink: drink.querySelector('p').textContent }\n            io.emit('drink', { data })\n        })\n    })\n}","import base from './_base'\nimport chat from './_chat'\nimport drinks from './_drinks'\n\nexport function sockets(io) {\n    base(io)\n    chat(io)\n    drinks(io)\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkZXZlbG9wbWVudC9qcy9pbmRleC5qcyIsImRldmVsb3BtZW50L2pzL21vZHVsZXMvY2hhdC9tZXNzYWdlcy5qcyIsImRldmVsb3BtZW50L2pzL21vZHVsZXMvZ3JvY2VyaWVzL2dyb2Nlcmllcy5qcyIsImRldmVsb3BtZW50L2pzL21vZHVsZXMvc29ja2V0LWlvL19iYXNlLmpzIiwiZGV2ZWxvcG1lbnQvanMvbW9kdWxlcy9zb2NrZXQtaW8vX2NoYXQuanMiLCJkZXZlbG9wbWVudC9qcy9tb2R1bGVzL3NvY2tldC1pby9fZHJpbmtzLmpzIiwiZGV2ZWxvcG1lbnQvanMvbW9kdWxlcy9zb2NrZXQtaW8vc29ja2V0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7OztBQ0FBOzs7Ozs7QUFFQSxJQUFNLE1BQU0sR0FBRyxFQUFFLEVBQWpCO0FBRUEsR0FBRyxDQUFDLE9BQUosQ0FBWSxNQUFaOzs7Ozs7Ozs7O0FDSkEsSUFBTSxhQUFhLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsUUFBdkIsQ0FBdEI7O0FBRU8sU0FBUyxJQUFULENBQWMsSUFBZCxFQUFvQjtBQUN2QixNQUFNLGNBQWMsR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixLQUF2QixDQUF2QjtBQUNBLEVBQUEsY0FBYyxDQUFDLFdBQWYsYUFBZ0MsSUFBSSxDQUFDLElBQXJDLGVBQThDLElBQUksQ0FBQyxPQUFuRDtBQUNBLEVBQUEsY0FBYyxDQUFDLFNBQWYsR0FBMkIsTUFBM0I7QUFFQSxFQUFBLFVBQVUsQ0FBQyxjQUFELENBQVY7QUFDSDs7QUFFTSxTQUFTLE1BQVQsQ0FBZ0IsSUFBaEIsRUFBc0I7QUFDekIsTUFBTSxjQUFjLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBdkI7QUFDQSxFQUFBLGNBQWMsQ0FBQyxXQUFmLEdBQTZCLElBQTdCO0FBQ0EsRUFBQSxjQUFjLENBQUMsU0FB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QUc7QUFBRSxRQUFBLEVBQUUsRUFBRSxLQUFLLENBQUMsRUFBWjtBQUFnQixRQUFBLEtBQUssRUFBRSxLQUFLLENBQUMsYUFBTixDQUFvQixHQUFwQixFQUF5QjtBQUFoRCxPQUFiO0FBQ0EsTUFBQSxFQUFFLENBQUMsSUFBSCxDQUFRLE9BQVIsRUFBaUI7QUFBRSxRQUFBLElBQUksRUFBSjtBQUFGLE9BQWpCO0FBQ0gsS0FIRDtBQUlILEdBTEQ7QUFNSCxDOzs7Ozs7Ozs7Ozs7QUNYRDs7QUFDQTs7QUFDQTs7OztBQUVPLFNBQVMsT0FBVCxDQUFpQixFQUFqQixFQUFxQjtBQUN4Qix3QkFBSyxFQUFMO0FBQ0Esd0JBQUssRUFBTDtBQUNBLDBCQUFPLEVBQVA7QUFDSCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImltcG9ydCAqIGFzIHJ1biBmcm9tICcuL21vZHVsZXMvc29ja2V0LWlvL3NvY2tldCdcblxuY29uc3Qgc29ja2V0ID0gaW8oKVxuXG5ydW4uc29ja2V0cyhzb2NrZXQpXG4iLCJjb25zdCBjaGF0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2NoYXRdJylcblxuZXhwb3J0IGZ1bmN0aW9uIGNoYXQodXNlcikge1xuICAgIGNvbnN0IG1lc3NhZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBtZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IGAke3VzZXIubmFtZX06ICR7dXNlci5tZXNzYWdlfWBcbiAgICBtZXNzYWdlRWxlbWVudC5jbGFzc05hbWUgPSAndXNlcidcblxuICAgIGFkZE1lc3NhZ2UobWVzc2FnZUVsZW1lbnQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJ2ZXIoZGF0YSkge1xuICAgIGNvbnN0IG1lc3NhZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBtZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IGRhdGFcbiAgICBtZXNzYWdlRWxlbWVudC5jbGFzc05hbWUgPSAnc2VydmVyJ1xuXG4gICAgYWRkTWVzc2FnZShtZXNzYWdlRWxlbWVudClcbn1cblxuZnVuY3Rpb24gYWRkTWVzc2FnZShtZXNzYWdlRWxlbWVudCkge1xuICAgIGNoYXRDb250YWluZXIuYXBwZW5kKG1lc3NhZ2VFbGVtZW50KVxuICAgIHNjcm9sbFRvQm90dG9tKClcbn1cblxuZnVuY3Rpb24gc2Nyb2xsVG9Cb3R0b20oKSB7XG4gICAgY2hhdENvbnRhaW5lci5zY3JvbGxUb3AgPSBjaGF0Q29udGFpbmVyLnNjcm9sbEhlaWdodCAtIGNoYXRDb250YWluZXIuY2xpZW50SGVpZ2h0XG59IiwiY29uc3QgZ3JvY2VyeWxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZ3JvY2VyeS1jb250YWluZXJdIHVsJylcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChkYXRhKSB7XG4gICAgY29uc3QgZ3JvY2VyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJylcbiAgICBjb25zdCByZW1vdmVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcblxuICAgIGdyb2NlcnkudGV4dENvbnRlbnQgPSBkYXRhXG4gICAgZ3JvY2VyeS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nXG4gICAgcmVtb3ZlQnV0dG9uLnRleHRDb250ZW50ID0gJ1gnXG5cbiAgICBncm9jZXJ5LmFwcGVuZChyZW1vdmVCdXR0b24pXG4gICAgZ3JvY2VyeWxpc3QuYXBwZW5kKGdyb2NlcnkpXG5cbiAgICByZXR1cm4gcmVtb3ZlQnV0dG9uXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJBbGwoZ3JvY2VyaWVzKSB7XG4gICAgaWYgKGdyb2Nlcmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGdyb2Nlcmllcy5mb3JFYWNoKGdyb2NlcnkgPT4ge1xuICAgICAgICAgICAgYWRkKGdyb2NlcnkpXG4gICAgICAgIH0pXG4gICAgfVxufSIsImltcG9ydCAqIGFzIG1lc3NhZ2UgZnJvbSAnLi4vY2hhdC9tZXNzYWdlcydcbmltcG9ydCAqIGFzIGdyb2NlcnkgZnJvbSAnLi4vZ3JvY2VyaWVzL2dyb2NlcmllcydcblxuZXhwb3J0IGRlZmF1bHQgKGlvKSA9PiB7XG4gICAgLy8gSm9pbmluZyB0aGUgY2hhdFxuICAgIGlvLm9uKCdqb2luJywgKGRhdGEpID0+IHtcbiAgICAgICAgbWVzc2FnZS5zZXJ2ZXIoZGF0YS5jaGF0Lm1lc3NhZ2UpXG4gICAgICAgIGdyb2NlcnkucmVuZGVyQWxsKGRhdGEuZ3JvY2VyeWxpc3QuZ3JvY2VyaWVzKVxuXG4gICAgICAgIGNvbnN0IGxpc3RJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tncm9jZXJ5LWNvbnRhaW5lcl0gdWwgbGkgc3BhbicpXG4gICAgICAgIGxpc3RJdGVtcy5mb3JFYWNoKGxpID0+IHtcbiAgICAgICAgICAgIGxpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyaW5nID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQudGV4dENvbnRlbnRcbiAgICAgICAgICAgICAgICBjb25zdCBncm9jZXJ5TmFtZSA9IHN0cmluZy5zdWJzdHJpbmcoMCwgc3RyaW5nLmxlbmd0aCAtIDEpXG4gICAgICAgICAgICAgICAgaW8uZW1pdCgncmVtb3ZlJywgeyBuYW1lOiBncm9jZXJ5TmFtZSB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgaW8ub24oJ2pvaW5lZCcsIChkYXRhKSA9PiBtZXNzYWdlLnNlcnZlcihkYXRhLm1lc3NhZ2UpKVxuXG4gICAgaW8ub24oJ25pY2tuYW1lQ2hhbmdlZCcsIChkYXRhKSA9PiBtZXNzYWdlLnNlcnZlcihkYXRhKSlcblxuICAgIC8vIExlYXZpbmcgdGhlIGNoYXRcbiAgICBpby5vbignbGVhdmUnLCAoZGF0YSkgPT4gbWVzc2FnZS5zZXJ2ZXIoZGF0YS5tZXNzYWdlKSlcbn1cbiIsImltcG9ydCAqIGFzIG1lc3NhZ2UgZnJvbSAnLi4vY2hhdC9tZXNzYWdlcydcbmltcG9ydCAqIGFzIGdyb2NlcnkgZnJvbSAnLi4vZ3JvY2VyaWVzL2dyb2NlcmllcydcblxuZXhwb3J0IGRlZmF1bHQgKGlvKSA9PiB7XG4gICAgY29uc3RcbiAgICAgICAgY2hhdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbc2VuZC1tZXNzYWdlXScpLFxuICAgICAgICBjaGF0TmFtZSA9IGNoYXRGb3JtLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdOmZpcnN0LW9mLXR5cGUnKSxcbiAgICAgICAgY2hhdFN0cmluZyA9IGNoYXRGb3JtLnF1ZXJ5U2VsZWN0b3IoJ2RpdiBpbnB1dFt0eXBlPVwidGV4dFwiXScpLFxuICAgICAgICBjaGF0U3VibWl0ID0gY2hhdEZvcm0ucXVlcnlTZWxlY3RvcignZGl2IGlucHV0W3R5cGU9XCJzdWJtaXRcIl0nKSxcbiAgICAgICAgZ3JvY2VyaWVzRG9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tncm9jZXJ5LWNvbnRhaW5lcl0gYnV0dG9uJyksXG4gICAgICAgIHNlbGVjdEluZ3JlZGllbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZHJpbmtzXSBzZWxlY3QnKVxuXG4gICAgc2VsZWN0SW5ncmVkaWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaW8uZW1pdCgnc2VsZWN0SW5ncmVkaWVudCcsIHsgaW5ncmVkaWVudDogZXZlbnQudGFyZ2V0LnZhbHVlIH0pXG4gICAgfSlcblxuICAgIGlvLm9uKCdzZWxlY3QnLCAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBkcmlua0VsZW1lbnRzID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkcmlua3NdJykuY2hpbGRyZW5dXG4gICAgICAgIGRyaW5rRWxlbWVudHMuc2hpZnQoKVxuXG4gICAgICAgIGRyaW5rRWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKClcbiAgICAgICAgfSlcblxuICAgICAgICBkYXRhLmZvckVhY2goZHJpbmsgPT4ge1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RyaW5rc10nKS5hcHBlbmRDaGlsZChjcmVhdGVEcmlua0VsZW1lbnQoZHJpbmssIGlvKSlcbiAgICAgICAgfSlcblxuICAgICAgICBjb25zdCBuZXdEcmlua3MgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RyaW5rc10nKS5jaGlsZHJlbl1cbiAgICAgICAgbmV3RHJpbmtzLnNoaWZ0KClcbiAgICAgICAgbmV3RHJpbmtzLmZvckVhY2goZHJpbmsgPT4ge1xuICAgICAgICAgICAgZHJpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsgaWQ6IGRyaW5rLmlkLCBkcmluazogZHJpbmsucXVlcnlTZWxlY3RvcigncCcpLnRleHRDb250ZW50IH1cbiAgICAgICAgICAgICAgICBpby5lbWl0KCdkcmluaycsIHsgZGF0YSB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgZ3JvY2VyaWVzRG9uZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaW8uZW1pdCgnc2VsZWN0UGVvcGxlJylcbiAgICB9KVxuXG4gICAgaW8ub24oJ2RvbmUnLCAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBncm9jZXJpZXMgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2dyb2NlcnktY29udGFpbmVyXSB1bCBsaScpXVxuXG4gICAgICAgIGRhdGEuZm9yRWFjaChwZXJzb24gPT4ge1xuICAgICAgICAgICAgcGVyc29uLmdyb2Nlcmllcy5mb3JFYWNoKGluZ3JlZGllbnQgPT4ge1xuICAgICAgICAgICAgICAgIGdyb2Nlcmllcy5mb3JFYWNoKGdyb2NlcnkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gZ3JvY2VyeS50ZXh0Q29udGVudC5zdWJzdHJpbmcoMCwgZ3JvY2VyeS50ZXh0Q29udGVudC5sZW5ndGggLSAxKVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChuYW1lID09IGluZ3JlZGllbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb2Nlcnkuc2V0QXR0cmlidXRlKCd1c2VyLWlkJywgYCR7cGVyc29uLm5pY2tuYW1lfSgke3BlcnNvbi5pZH0pOmApXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgZ3JvY2VyaWVzRG9uZS5yZW1vdmUoKVxuICAgIH0pXG5cbiAgICBjaGF0TmFtZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaW8uZW1pdCgnY2hhbmdlTmFtZScsIHsgbmlja25hbWU6IGV2ZW50LnRhcmdldC52YWx1ZSB9KVxuICAgIH0pXG5cbiAgICAvLyBDaGF0dGluZ1xuICAgIGNoYXRTdWJtaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgICAgIGlmIChjaGF0U3RyaW5nLnZhbHVlLmluY2x1ZGVzKCc6YWRkJykpIHtcbiAgICAgICAgICAgIGlvLmVtaXQoJ2dyb2NlcnknLCB7IGdyb2Nlcnk6IGNoYXRTdHJpbmcudmFsdWUuc3BsaXQoJzphZGQnKVsxXS5zdWJzdHJpbmcoMSkgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlvLmVtaXQoJ2NoYXQnLCB7IG5hbWU6IGNoYXROYW1lLnZhbHVlLCBtZXNzYWdlOiBjaGF0U3RyaW5nLnZhbHVlIH0pXG4gICAgICAgIH1cblxuICAgICAgICBjaGF0U3RyaW5nLnZhbHVlID0gJydcbiAgICB9KVxuXG4gICAgLy8gQmFzaWMgY2hhdHRpbmdcbiAgICBpby5vbignY2hhdCcsIChkYXRhKSA9PiB7XG4gICAgICAgIG1lc3NhZ2UuY2hhdChkYXRhKVxuICAgIH0pXG5cbiAgICBpby5vbignZ3JvY2VyeScsIChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlbW92ZUJ1dHRvbiA9IGdyb2NlcnkuYWRkKGRhdGEpXG5cbiAgICAgICAgcmVtb3ZlRWxlbWVudChyZW1vdmVCdXR0b24sIGlvKVxuICAgIH0pXG5cbiAgICBpby5vbignZHJpbmsnLCAoaW5ncmVkaWVudHMpID0+IHtcbiAgICAgICAgaW5ncmVkaWVudHMuZm9yRWFjaChpbmdyZWRpZW50ID0+IHtcbiAgICAgICAgICAgIHJlbW92ZUVsZW1lbnQoZ3JvY2VyeS5hZGQoaW5ncmVkaWVudCksIGlvKVxuICAgICAgICB9KVxuICAgIH0pXG5cbiAgICBpby5vbigncmVtb3ZlJywgKGRhdGEpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBsaSBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwibGlcIikpIHtcbiAgICAgICAgICAgIGlmIChsaS50ZXh0Q29udGVudC5pbmNsdWRlcyhkYXRhLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgbGkucmVtb3ZlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURyaW5rRWxlbWVudChkYXRhLCBpbykge1xuICAgIGNvbnN0IGFydGljbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhcnRpY2xlJylcbiAgICBjb25zdCBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXG4gICAgY29uc3QgcGFyYWdyYXBoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXG5cbiAgICBhcnRpY2xlLmlkID0gZGF0YS5pZERyaW5rXG4gICAgaW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCBkYXRhLnN0ckRyaW5rVGh1bWIpXG4gICAgcGFyYWdyYXBoLnRleHRDb250ZW50ID0gZGF0YS5zdHJEcmlua1xuXG4gICAgYXJ0aWNsZS5hcHBlbmRDaGlsZChpbWFnZSlcbiAgICBhcnRpY2xlLmFwcGVuZENoaWxkKHBhcmFncmFwaClcblxuICAgIHJldHVybiBhcnRpY2xlXG59XG5cbmZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQoYnV0dG9uLCBpbykge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBzdHJpbmcgPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC50ZXh0Q29udGVudFxuICAgICAgICBjb25zdCBncm9jZXJ5TmFtZSA9IHN0cmluZy5zdWJzdHJpbmcoMCwgc3RyaW5nLmxlbmd0aCAtIDEpXG5cbiAgICAgICAgaW8uZW1pdCgncmVtb3ZlJywgeyBuYW1lOiBncm9jZXJ5TmFtZSB9KVxuICAgIH0pXG59IiwiZXhwb3J0IGRlZmF1bHQgKGlvKSA9PiB7XG4gICAgY29uc3QgZHJpbmtzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RyaW5rc10nKVxuICAgIGNvbnN0IGRyaW5rcyA9IFsuLi5kcmlua3NDb250YWluZXIuY2hpbGRyZW5dXG4gICAgZHJpbmtzLnNoaWZ0KClcblxuICAgIGRyaW5rcy5mb3JFYWNoKGRyaW5rID0+IHtcbiAgICAgICAgZHJpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0geyBpZDogZHJpbmsuaWQsIGRyaW5rOiBkcmluay5xdWVyeVNlbGVjdG9yKCdwJykudGV4dENvbnRlbnQgfVxuICAgICAgICAgICAgaW8uZW1pdCgnZHJpbmsnLCB7IGRhdGEgfSlcbiAgICAgICAgfSlcbiAgICB9KVxufSIsImltcG9ydCBiYXNlIGZyb20gJy4vX2Jhc2UnXG5pbXBvcnQgY2hhdCBmcm9tICcuL19jaGF0J1xuaW1wb3J0IGRyaW5rcyBmcm9tICcuL19kcmlua3MnXG5cbmV4cG9ydCBmdW5jdGlvbiBzb2NrZXRzKGlvKSB7XG4gICAgYmFzZShpbylcbiAgICBjaGF0KGlvKVxuICAgIGRyaW5rcyhpbylcbn0iXX0="}