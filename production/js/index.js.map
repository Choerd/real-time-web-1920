{"version":3,"sources":["node_modules/browser-pack/_prelude.js","development/js/index.js","development/js/modules/chatting.js","development/js/modules/drinks.js","development/js/modules/groceries.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import * as message from './modules/chatting'\nimport * as grocery from './modules/groceries'\nimport * as drinks from './modules/drinks'\n\nconst socket = io()\n\nconst\n    chatForm = document.querySelector('[send-message]'),\n    chatName = chatForm.querySelector('input[type=\"text\"]:first-of-type'),\n    chatString = chatForm.querySelector('div input[type=\"text\"]'),\n    chatSubmit = chatForm.querySelector('div input[type=\"submit\"]')\n\n// Chatting\nchatSubmit.addEventListener('click', (event) => {\n    event.preventDefault()\n\n    socket.emit('chat', {\n        name: chatName.value,\n        message: chatString.value\n    })\n\n    chatString.value = ''\n})\n\ndrinks.drinks()\n\n// Basic chatting\nsocket.on('chat', (data) => {\n    message.chat(data)\n})\n\nsocket.on('addGrocery', (data) => {\n    grocery.add(data)\n})\n\n// Joining the chat\nsocket.on('join', (data) => {\n    message.server(data)\n})\n\n// Joining the chat\nsocket.on('loadGroceries', (data) => {\n    grocery.getAll(data)\n})\n\n// Leaving the chat\nsocket.on('leave', (data) => {\n    message.server(data)\n})","const chatContainer = document.querySelector('[chat]')\n\nexport function chat(user) {\n    const messageElement = document.createElement('div')\n    messageElement.textContent = `${user.name}: ${user.message}`\n    messageElement.className = 'user'\n\n    addMessage(messageElement)\n}\n\nexport function server(data) {\n    const messageElement = document.createElement('div')\n    messageElement.textContent = data.message\n    messageElement.className = 'server'\n\n    addMessage(messageElement)\n}\n\nfunction addMessage(messageElement) {\n    chatContainer.append(messageElement)\n    scrollToBottom()\n}\n\nfunction scrollToBottom() {\n    chatContainer.scrollTop = chatContainer.scrollHeight - chatContainer.clientHeight\n}","export function drinks() {\n    const drinksContainer = document.querySelector('[drinks]')\n    const drinks = [...drinksContainer.children]\n\n    drinks.forEach(drink => {\n        drink.addEventListener('click', () => {\n            const data = { id: drink.id, drink: drink.querySelector('p').textContent }\n            sendData(data)\n        })\n    })\n}\n\nfunction sendData(data) {\n    const\n        xhr = new XMLHttpRequest(),\n        jsonString = JSON.stringify(data)\n\n    xhr.open('post', '/')\n    xhr.setRequestHeader('Content-Type', 'application/json')\n\n    console.log(jsonString)\n    xhr.send(jsonString)\n}","// Todo: Wanneer een boodschap meer dan 1x voorkomt een counter toevoegen\n// Todo: Wanneer een boodschap meer dan 1x voorkomt een - toevoegen om te minderen in hoeveelheid\n\nconst grocerylist = document.querySelector('[grocery-container] ul')\n\nexport function add(data) {\n    grocerylist.append(groceryElement(data))\n}\n\nfunction groceryElement(data) {\n    const grocery = document.createElement('li')\n    const removeButton = document.createElement('span')\n\n    grocery.textContent = data\n    removeButton.textContent = 'X'\n\n    grocery.append(removeButton)\n    removeButton.addEventListener('click', (event) => remove(event.target))\n\n    return grocery\n}\n\nexport function getAll(data) {\n    const grocies = data.groceries\n\n    grocies.forEach(grocery => {\n        add(grocery)\n    })\n}\n\nfunction remove(element) {\n    const grocery = element.parentElement\n    grocery.remove()\n}\n\n// Remove all groceries\ndocument.querySelector('[grocery-container] button').addEventListener('click', () => {\n    const groceries = [...grocerylist.children]\n    groceries.forEach(grocery => {\n        grocery.remove()\n    })\n})"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkZXZlbG9wbWVudC9qcy9pbmRleC5qcyIsImRldmVsb3BtZW50L2pzL21vZHVsZXMvY2hhdHRpbmcuanMiLCJkZXZlbG9wbWVudC9qcy9tb2R1bGVzL2RyaW5rcy5qcyIsImRldmVsb3BtZW50L2pzL21vZHVsZXMvZ3JvY2VyaWVzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7OztBQ0FBOztBQUNBOztBQUNBOzs7Ozs7QUFFQSxJQUFNLE1BQU0sR0FBRyxFQUFFLEVBQWpCO0FBRUEsSUFDSSxRQUFRLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsZ0JBQXZCLENBRGY7QUFBQSxJQUVJLFFBQVEsR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixrQ0FBdkIsQ0FGZjtBQUFBLElBR0ksVUFBVSxHQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLHdCQUF2QixDQUhqQjtBQUFBLElBSUksVUFBVSxHQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLDBCQUF2QixDQUpqQixDLENBTUE7O0FBQ0EsVUFBVSxDQUFDLGdCQUFYLENBQTRCLE9BQTVCLEVBQXFDLFVBQUMsS0FBRCxFQUFXO0FBQzVDLEVBQUEsS0FBSyxDQUFDLGNBQU47QUFFQSxFQUFBLE1BQU0sQ0FBQyxJQUFQLENBQVksTUFBWixFQUFvQjtBQUNoQixJQUFBLElBQUksRUFBRSxRQUFRLENBQUMsS0FEQztBQUVoQixJQUFBLE9BQU8sRUFBRSxVQUFVLENBQUM7QUFGSixHQUFwQjtBQUtBLEVBQUEsVUFBVSxDQUFDLEtBQVgsR0FBbUIsRUFBbkI7QUFDSCxDQVREO0FBV0EsTUFBTSxDQUFDLE1BQVAsRyxDQUVBOztBQUNBLE1BQU0sQ0FBQyxFQUFQLENBQVUsTUFBVixFQUFrQixVQUFDLElBQUQsRUFBVTtBQUN4QixFQUFBLE9BQU8sQ0FBQyxJQUFSLENBQWEsSUFBYjtBQUNILENBRkQ7QUFJQSxNQUFNLENBQUMsRUFBUCxD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V0FBVyxDQUFDLFFBQW5CLENBQWY7O0FBQ0EsRUFBQSxTQUFTLENBQUMsT0FBVixDQUFrQixVQUFBLE9BQU8sRUFBSTtBQUN6QixJQUFBLE9BQU8sQ0FBQyxNQUFSO0FBQ0gsR0FGRDtBQUdILENBTEQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJpbXBvcnQgKiBhcyBtZXNzYWdlIGZyb20gJy4vbW9kdWxlcy9jaGF0dGluZydcbmltcG9ydCAqIGFzIGdyb2NlcnkgZnJvbSAnLi9tb2R1bGVzL2dyb2NlcmllcydcbmltcG9ydCAqIGFzIGRyaW5rcyBmcm9tICcuL21vZHVsZXMvZHJpbmtzJ1xuXG5jb25zdCBzb2NrZXQgPSBpbygpXG5cbmNvbnN0XG4gICAgY2hhdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbc2VuZC1tZXNzYWdlXScpLFxuICAgIGNoYXROYW1lID0gY2hhdEZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cInRleHRcIl06Zmlyc3Qtb2YtdHlwZScpLFxuICAgIGNoYXRTdHJpbmcgPSBjaGF0Rm9ybS5xdWVyeVNlbGVjdG9yKCdkaXYgaW5wdXRbdHlwZT1cInRleHRcIl0nKSxcbiAgICBjaGF0U3VibWl0ID0gY2hhdEZvcm0ucXVlcnlTZWxlY3RvcignZGl2IGlucHV0W3R5cGU9XCJzdWJtaXRcIl0nKVxuXG4vLyBDaGF0dGluZ1xuY2hhdFN1Ym1pdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgIHNvY2tldC5lbWl0KCdjaGF0Jywge1xuICAgICAgICBuYW1lOiBjaGF0TmFtZS52YWx1ZSxcbiAgICAgICAgbWVzc2FnZTogY2hhdFN0cmluZy52YWx1ZVxuICAgIH0pXG5cbiAgICBjaGF0U3RyaW5nLnZhbHVlID0gJydcbn0pXG5cbmRyaW5rcy5kcmlua3MoKVxuXG4vLyBCYXNpYyBjaGF0dGluZ1xuc29ja2V0Lm9uKCdjaGF0JywgKGRhdGEpID0+IHtcbiAgICBtZXNzYWdlLmNoYXQoZGF0YSlcbn0pXG5cbnNvY2tldC5vbignYWRkR3JvY2VyeScsIChkYXRhKSA9PiB7XG4gICAgZ3JvY2VyeS5hZGQoZGF0YSlcbn0pXG5cbi8vIEpvaW5pbmcgdGhlIGNoYXRcbnNvY2tldC5vbignam9pbicsIChkYXRhKSA9PiB7XG4gICAgbWVzc2FnZS5zZXJ2ZXIoZGF0YSlcbn0pXG5cbi8vIEpvaW5pbmcgdGhlIGNoYXRcbnNvY2tldC5vbignbG9hZEdyb2NlcmllcycsIChkYXRhKSA9PiB7XG4gICAgZ3JvY2VyeS5nZXRBbGwoZGF0YSlcbn0pXG5cbi8vIExlYXZpbmcgdGhlIGNoYXRcbnNvY2tldC5vbignbGVhdmUnLCAoZGF0YSkgPT4ge1xuICAgIG1lc3NhZ2Uuc2VydmVyKGRhdGEpXG59KSIsImNvbnN0IGNoYXRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbY2hhdF0nKVxuXG5leHBvcnQgZnVuY3Rpb24gY2hhdCh1c2VyKSB7XG4gICAgY29uc3QgbWVzc2FnZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIG1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gYCR7dXNlci5uYW1lfTogJHt1c2VyLm1lc3NhZ2V9YFxuICAgIG1lc3NhZ2VFbGVtZW50LmNsYXNzTmFtZSA9ICd1c2VyJ1xuXG4gICAgYWRkTWVzc2FnZShtZXNzYWdlRWxlbWVudClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlcnZlcihkYXRhKSB7XG4gICAgY29uc3QgbWVzc2FnZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIG1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gZGF0YS5tZXNzYWdlXG4gICAgbWVzc2FnZUVsZW1lbnQuY2xhc3NOYW1lID0gJ3NlcnZlcidcblxuICAgIGFkZE1lc3NhZ2UobWVzc2FnZUVsZW1lbnQpXG59XG5cbmZ1bmN0aW9uIGFkZE1lc3NhZ2UobWVzc2FnZUVsZW1lbnQpIHtcbiAgICBjaGF0Q29udGFpbmVyLmFwcGVuZChtZXNzYWdlRWxlbWVudClcbiAgICBzY3JvbGxUb0JvdHRvbSgpXG59XG5cbmZ1bmN0aW9uIHNjcm9sbFRvQm90dG9tKCkge1xuICAgIGNoYXRDb250YWluZXIuc2Nyb2xsVG9wID0gY2hhdENvbnRhaW5lci5zY3JvbGxIZWlnaHQgLSBjaGF0Q29udGFpbmVyLmNsaWVudEhlaWdodFxufSIsImV4cG9ydCBmdW5jdGlvbiBkcmlua3MoKSB7XG4gICAgY29uc3QgZHJpbmtzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RyaW5rc10nKVxuICAgIGNvbnN0IGRyaW5rcyA9IFsuLi5kcmlua3NDb250YWluZXIuY2hpbGRyZW5dXG5cbiAgICBkcmlua3MuZm9yRWFjaChkcmluayA9PiB7XG4gICAgICAgIGRyaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsgaWQ6IGRyaW5rLmlkLCBkcmluazogZHJpbmsucXVlcnlTZWxlY3RvcigncCcpLnRleHRDb250ZW50IH1cbiAgICAgICAgICAgIHNlbmREYXRhKGRhdGEpXG4gICAgICAgIH0pXG4gICAgfSlcbn1cblxuZnVuY3Rpb24gc2VuZERhdGEoZGF0YSkge1xuICAgIGNvbnN0XG4gICAgICAgIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpLFxuICAgICAgICBqc29uU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoZGF0YSlcblxuICAgIHhoci5vcGVuKCdwb3N0JywgJy8nKVxuICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpXG5cbiAgICBjb25zb2xlLmxvZyhqc29uU3RyaW5nKVxuICAgIHhoci5zZW5kKGpzb25TdHJpbmcpXG59IiwiLy8gVG9kbzogV2FubmVlciBlZW4gYm9vZHNjaGFwIG1lZXIgZGFuIDF4IHZvb3Jrb210IGVlbiBjb3VudGVyIHRvZXZvZWdlblxuLy8gVG9kbzogV2FubmVlciBlZW4gYm9vZHNjaGFwIG1lZXIgZGFuIDF4IHZvb3Jrb210IGVlbiAtIHRvZXZvZWdlbiBvbSB0ZSBtaW5kZXJlbiBpbiBob2V2ZWVsaGVpZFxuXG5jb25zdCBncm9jZXJ5bGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tncm9jZXJ5LWNvbnRhaW5lcl0gdWwnKVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkKGRhdGEpIHtcbiAgICBncm9jZXJ5bGlzdC5hcHBlbmQoZ3JvY2VyeUVsZW1lbnQoZGF0YSkpXG59XG5cbmZ1bmN0aW9uIGdyb2NlcnlFbGVtZW50KGRhdGEpIHtcbiAgICBjb25zdCBncm9jZXJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKVxuICAgIGNvbnN0IHJlbW92ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKVxuXG4gICAgZ3JvY2VyeS50ZXh0Q29udGVudCA9IGRhdGFcbiAgICByZW1vdmVCdXR0b24udGV4dENvbnRlbnQgPSAnWCdcblxuICAgIGdyb2NlcnkuYXBwZW5kKHJlbW92ZUJ1dHRvbilcbiAgICByZW1vdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHJlbW92ZShldmVudC50YXJnZXQpKVxuXG4gICAgcmV0dXJuIGdyb2Nlcnlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbChkYXRhKSB7XG4gICAgY29uc3QgZ3JvY2llcyA9IGRhdGEuZ3JvY2VyaWVzXG5cbiAgICBncm9jaWVzLmZvckVhY2goZ3JvY2VyeSA9PiB7XG4gICAgICAgIGFkZChncm9jZXJ5KVxuICAgIH0pXG59XG5cbmZ1bmN0aW9uIHJlbW92ZShlbGVtZW50KSB7XG4gICAgY29uc3QgZ3JvY2VyeSA9IGVsZW1lbnQucGFyZW50RWxlbWVudFxuICAgIGdyb2NlcnkucmVtb3ZlKClcbn1cblxuLy8gUmVtb3ZlIGFsbCBncm9jZXJpZXNcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tncm9jZXJ5LWNvbnRhaW5lcl0gYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY29uc3QgZ3JvY2VyaWVzID0gWy4uLmdyb2NlcnlsaXN0LmNoaWxkcmVuXVxuICAgIGdyb2Nlcmllcy5mb3JFYWNoKGdyb2NlcnkgPT4ge1xuICAgICAgICBncm9jZXJ5LnJlbW92ZSgpXG4gICAgfSlcbn0pIl19"}